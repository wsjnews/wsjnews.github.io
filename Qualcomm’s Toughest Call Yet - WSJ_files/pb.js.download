var googletag=googletag||{};googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().disableInitialLoad();});try{window.an_wsj_template = document.getElementsByName('article.template')[0].content;if (window.an_wsj_template.indexOf('immersive') > -1) {window.an_wsj_template="immersive";}} catch(e) {}
/* Generated from hbw: 1.4.0.1 */
var pbjs=window.pbjs||{};pbjs.que=pbjs.que||[];var googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];var PREBID_TIMEOUT=750,REQUEST_BIDS_ON_PAGE_LOAD=!0,SHOW_ADS_ON_PAGE_LOAD=!1,IS_PREBID_LEGACY=!1;!function(){function e(e){var a=!1,d=e.on_page_var.name.split(".");return e.on_page_var.value.forEach(function(n){for(var r=window,i=0;i<=d.length;i++)r[d[i]]&&(r[d[i]]===n&&(p("var",e.on_page_var.name,n),a=!0),r=r[d[i]])}),a}function a(e,a){return-1!==e.indexOf(a)}function d(e){return window.googletag.pubads().getSlots().filter(function(d){return a(e,d.getAdUnitPath())||a(e,d.getSlotElementId())})}function n(e,a){pbjs.initAdserverSet=!0,pbjs.requestBids({adUnitCodes:e,bidsBackHandler:function(){googletag.cmd.push(function(){pbjs.setTargetingForGPTAsync(),window.googletag.pubads().refresh(d(e),a)})}})}function r(e,a){var d=[],n=l,r={};if(e.length>0){for(var i=0;i<e.length;i++)r[e[i].targetAdUnitCode]=e[i].newAdUnitCode,d.push(e[i].newAdUnitCode);for(var i=0;i<n.length;i++)val=r[n[i].code],"undefined"!=typeof val&&(pbjs.removeAdUnit(n[i].code),n[i].code=r[n[i].code]);pbjs.addAdUnits(n)}pbjs.refreshAds(d,a)}function i(){if(!pbjs.initAdserverSet){if(!SHOW_ADS_ON_PAGE_LOAD)return s(),void(pbjs.initAdserverSet=!0);if(!googletag.pubadsReady&&w<=A)return setTimeout(i,75),void w++;b(l),s(),googletag.cmd.push(function(){googletag.pubads().refresh()}),pbjs.initAdserverSet=!0}}function s(){googletag.cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync()})})}function p(e,a,d){c("url"===e?'configuration matched for type: "url" Matched key: '+a:'configuration matched for type: "var" Matched var name: '+a+" matched value: "+d)}function o(){var e="";try{e=window.location.host+window.location.pathname}catch(e){c(e)}return e}function t(e){for(var a=e.split("/"),d=[],n=0;n<a.length;n++){for(var r="",i=0;i<a.length-n;i++)r+="/"+a[i];r=r.substr(1,r.length),d.push(r),d.push(r+"/")}return d}function c(){u.push(arguments),I&&window.console.log.apply(null,arguments)}function m(e){var a=!1;return e.forEach(function(e){e&&e.mediaTypes&&e.mediaTypes.video&&"outstream"!==e.mediaTypes.video.context&&(a=!0)}),a}function b(e){e&&e.forEach&&e.forEach(function(e){if(e&&e.mediaTypes&&e.mediaTypes.video&&"outstream"!==e.mediaTypes.video.context){var a={adUnit:{code:e.code,sizes:e.sizes},params:{iu:e.mediaTypes.video.code||e.code}},d=e.mediaTypes.video.url;d&&(a.url=d);pbjs.adServers.dfp.buildVideoUrl(a)}if(e&&e.mediaTypes&&e.mediaTypes.video&&"outstream"===e.mediaTypes.video.context){var n=pbjs.getAdserverTargetingForAdUnitCode(e.code);pbjs.renderAd(document,n.hb_adid)}})}var l,u=[],I=function(){return-1!==window.location.search.toLowerCase().indexOf("pbjs_debug=true")}(),w=0,A=40,y=[{url:["www.wsj.com/news/politics"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677595}},{bidder:"newsconnect",params:{placementId:13650471}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news"],adUnits:[{labelAny:["mobile_web"],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085358}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085396}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085346}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085384}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_R",bids:[{bidder:"appnexus",params:{placementId:12085349}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085387}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}},{labelAny:["desktop_narrow"],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085353}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085391}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}}]},{url:["jp.wsj.com/news"],adUnits:[{labelAny:["mobile_web"],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085358}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085396}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["mobile_web"],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085361}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085399}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085346}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085384}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_L",bids:[{bidder:"appnexus",params:{placementId:12085347}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085385}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}},{labelAny:["desktop_narrow"],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085353}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085391}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}}]},{url:["www.wsj.com/news/opinion"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677603}},{bidder:"newsconnect",params:{placementId:13650479}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news/science"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}}]},{url:["www.wsj.com/news/markets"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}},{labelAny:["native"],code:"AD_NATIVEBUCKET",bids:[{bidder:"appnexus",params:{placementId:13677602}},{bidder:"newsconnect",params:{placementId:13650478}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/europe"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}}]},{url:["www.wsj.com/news/realestate"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677605}},{bidder:"newsconnect",params:{placementId:13650484}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news/economy"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677597}},{bidder:"newsconnect",params:{placementId:13650475}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/livecoverage"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}}]},{url:["www.wsj.com/asia"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}}]},{url:["www.wsj.com/news/business/management"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["mobile_web"],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085360}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085398}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}}]},{url:["jp.wsj.com"],adUnits:[{labelAny:["mobile_web"],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085344}},{bidder:"aol",params:{placement:4668343,network:"11067.1"}},{bidder:"aol",params:{placement:4668342,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085497}},{bidder:"rubicon",params:{zoneId:306546,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085336}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085490}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085343}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085496}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_L",bids:[{bidder:"appnexus",params:{placementId:12085337}},{bidder:"aol",params:{placement:4668351,network:"11067.1"}},{bidder:"aol",params:{placement:4668352,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085491}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}}]},{url:["www.wsj.com/news/life-arts"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677604}},{bidder:"newsconnect",params:{placementId:13650483}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/articles"],adUnits:[{labelAny:["mobile_web"],code:"wsj-body-AD_G",bids:[{bidder:"appnexus",params:{placementId:12085366}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085404}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["mobile_web"],code:"wsj-body-AD_M2",bids:[{bidder:"appnexus",params:{placementId:12085367}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085405}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["mobile_web"],code:"wsj-body-AD_M3",bids:[{bidder:"appnexus",params:{placementId:12085368}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085406}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085346}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085384}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085353}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085391}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["native"],code:"google_ads_iframe_/2/interactive.wsj.com/articles_native_whattoreadnext_0",bids:[{bidder:"appnexus",params:{placementId:13677607}},{bidder:"newsconnect",params:{placementId:13650480}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news/technology"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}},{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677600}},{bidder:"newsconnect",params:{placementId:13650476}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news/world"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677590}},{bidder:"newsconnect",params:{placementId:13650468}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news/magazine"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677606}},{bidder:"newsconnect",params:{placementId:13650485}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{on_page_var:{name:"an_wsj_template",value:["immersive"]},adUnits:[{labelAny:["mobile_web"],code:"imm_ad_1",bids:[{bidder:"appnexus",params:{placementId:12085362}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085400}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["mobile_web"],code:"imm_ad_2",bids:[{bidder:"appnexus",params:{placementId:12085363}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085401}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["mobile_web"],code:"imm_ad_3",bids:[{bidder:"appnexus",params:{placementId:12085364}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085402}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["mobile_web"],code:"imm_ad_4",bids:[{bidder:"appnexus",params:{placementId:12085365}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085403}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["desktop_narrow"],code:"imm_ad_1",bids:[{bidder:"appnexus",params:{placementId:12085354}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085392}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["desktop_narrow"],code:"imm_ad_2",bids:[{bidder:"appnexus",params:{placementId:12085355}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085393}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["desktop_narrow"],code:"imm_ad_3",bids:[{bidder:"appnexus",params:{placementId:12085356}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085394}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}},{labelAny:["desktop_narrow"],code:"imm_ad_4",bids:[{bidder:"appnexus",params:{placementId:12085357}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085395}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,250]]}}}]},{url:["www.wsj.com"],adUnits:[{labelAny:["mobile_web"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085345}},{bidder:"aol",params:{placement:4668343,network:"11067.1"}},{bidder:"aol",params:{placement:4668342,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085498}},{bidder:"rubicon",params:{zoneId:306546,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085339}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085493}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085341}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085494}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_narrow"],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085342}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085495}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[300,600],[300,250]]}}},{labelAny:["desktop_wide"],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085338}},{bidder:"aol",params:{placement:4668351,network:"11067.1"}},{bidder:"aol",params:{placement:4668352,network:"11067.1"}},{bidder:"newsconnect",params:{placementId:12085492}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}}],mediaTypes:{banner:{sizes:[[728,90],[970,250]]}}},{labelAny:["native"],code:"AD_NATIVESTRIPA",bids:[{bidder:"appnexus",params:{placementId:13677584}},{bidder:"newsconnect",params:{placementId:13650464}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]},{labelAny:["native"],code:"AD_NATIVESTRIPB",bids:[{bidder:"appnexus",params:{placementId:13677587}},{bidder:"newsconnect",params:{placementId:13650465}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]},{labelAny:["native"],code:"AD_NATIVESTRIPC",bids:[{bidder:"appnexus",params:{placementId:13677588}},{bidder:"newsconnect",params:{placementId:13650466}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]},{labelAny:["native"],code:"AD_NATIVEBUCKET",bids:[{bidder:"appnexus",params:{placementId:13677589}},{bidder:"newsconnect",params:{placementId:13650467}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news/business"],adUnits:[{labelAny:["native"],code:"AD_NATIVE",bids:[{bidder:"appnexus",params:{placementId:13677599}},{bidder:"newsconnect",params:{placementId:13650473}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]},{url:["www.wsj.com/news/us"],adUnits:[{labelAny:["native"],code:"AD_NATIVEBUCKET",bids:[{bidder:"appnexus",params:{placementId:13677591}},{bidder:"newsconnect",params:{placementId:13650469}}],mediaTypes:{native:{body:{required:!0},title:{required:!0},image:{required:!0},clickUrl:{required:!0},sponsoredBy:{required:!1},cta:{required:!1},icon:{required:!0}}},sizes:[[1,1]]}]}];if(c("Running HBW: 1.4.0 and prebid.js: 1.15.0"),y.forEach(function(a){if(a.on_page_var)try{
e(a)&&(l=a.adUnits)}catch(e){}}),l||(l=function(e){if(e){var a,d=o(),n=t(d);return n.some(function(d){return e.some(function(e){if(e&&e.url)return e.url.forEach(function(n){n===d&&(a=e.adUnits,p("url",d))}),!!a})}),a}}(y)),!l)return c("Error: No valid configuration found for site"),void i();pbjs.refreshAds=n,pbjs.infiniteScroll=r,pbjs.que.push(function(){if(pbjs.setConfig({sizeConfig:[{mediaQuery:"(min-width: 960px)",labels:["desktop_narrow"],sizesSupported:[[300,250],[300,600]]},{mediaQuery:"(min-width: 960px)",labels:["desktop_wide"],sizesSupported:[[728,90],[970,250]]},{mediaQuery:"(min-width: 0px)",labels:["native"],sizesSupported:[[1,1]]},{mediaQuery:"(min-width: 0px) and (max-width: 959px)",labels:["mobile_web"],sizesSupported:[[300,250],[300,600]]}]}),pbjs.enableAnalytics([{provider:"appnexus",options:{memberId:7214}}]),pbjs.setConfig({priceGranularity:{buckets:[{max:10,cap:"False",increment:.01,min:.01},{max:20,cap:"False",increment:.05,min:10},{max:95,cap:"True",increment:.5,min:20}],precision:"2"}}),pbjs.onEvent("requestBids",function(){var e=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var d=arguments[a];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n])}return e},a=function(e){var a=new RegExp("(?:^"+e+"|; *"+e+")=(.*?)(?:;|$)","g"),d=a.exec(document.cookie);return null===d?null:d[1]}("_ncg_id_");pbjs.adUnits.map(function(e){return e.bids.filter(function(e){return"newsconnect"===e.bidder})}).reduce(function(e,a){return e.concat(a)}).forEach(function(d){return d.params.user=e({},d.params.user,{external_uid:a})})}),pbjs.onEvent("requestBids",function(){window.pbjs.ready=!1}),pbjs.onEvent("setTargeting",function(){window.pbjs.ready=!0}),pbjs.aliasBidder("appnexus","newsconnect"),m(l)){var e={cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}};IS_PREBID_LEGACY&&(e.usePrebidCache=!0),pbjs.setConfig(e)}pbjs.addAdUnits(l),REQUEST_BIDS_ON_PAGE_LOAD&&pbjs.requestBids({bidsBackHandler:function(e){i()}})}),pbjs.debugReplayLogs=function(){for(var e=0;e<u.length;e++)window.console.log.apply(null,u[e])},(!0===REQUEST_BIDS_ON_PAGE_LOAD||!0===SHOW_ADS_ON_PAGE_LOAD&&!1===REQUEST_BIDS_ON_PAGE_LOAD)&&setTimeout(i,PREBID_TIMEOUT)}();
/* prebid.js v1.15.0
Updated : 2018-07-23 */
!(function(u){var f=window.pbjsChunk;window.pbjsChunk=function(e,t,r){for(var i,n,o,s=0,a=[];s<e.length;s++)n=e[s],l[n]&&a.push(l[n][0]),l[n]=0;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(u[i]=t[i]);for(f&&f(e,t,r);a.length;)a.shift()();if(r)for(s=0;s<r.length;s++)o=d(d.s=r[s]);return o};var r={},l={146:0};function d(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,d),t.l=!0,t.exports}d.m=u,d.c=r,d.d=function(e,t,r){d.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.oe=function(e){throw console.error(e),e},d(d.s=500)})({0:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getLatestHighestCpmBid=s.getOldestHighestCpmBid=s.getHighestCpm=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s.getAdUnitSizes=function(e){if(!e)return;var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var r=e.mediaTypes.banner.sizes;Array.isArray(r[0])?t=r:t.push(r)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t},s.parseSizesInput=function(e){var t=[];if("string"==typeof e){var r=e.split(","),i=/^(\d)+x(\d)+$/i;if(r)for(var n in r)S(r,n)&&r[n].match(i)&&t.push(r[n])}else if("object"===(void 0===e?"undefined":a(e))){var o=e.length;if(0<o)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(b(e));else for(var s=0;s<o;s++)t.push(b(e[s]))}return t},s.parseGPTSingleSizeArray=b,s.uniques=I,s.flatten=A,s.getBidRequest=function(r,e){var i=void 0;return e.some((function(e){var t=(0,o.default)(e.bids,(function(t){return["bidId","adId","bid_id"].some((function(e){return t[e]===r}))}));return t&&(i=t),t})),i},s.getKeys=_,s.getValue=R,s.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(A,[])})).reduce(A).filter(I)},s.isGptPubadsDefined=function(){if(window.googletag&&s.isFn(window.googletag.pubads)&&s.isFn(window.googletag.pubads().getSlots))return!0},s.shuffle=function(e){var t=e.length;for(;0<t;){var r=Math.floor(Math.random()*t),i=e[--t];e[t]=e[r],e[r]=i}return e},s.adUnitsFilter=function(e,t){return(0,u.default)(e,t&&t.adUnitCode)},s.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)},s.deepClone=function(e){return(0,n.default)(e)},s.inIframe=function(){try{return s.getWindowSelf()!==s.getWindowTop()}catch(e){return!0}},s.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},s.replaceAuctionPrice=function(e,t){if(!e)return;return e.replace(/\$\{AUCTION_PRICE\}/g,t)},s.timestamp=function(){return(new Date).getTime()},s.checkCookieSupport=function(){if(window.navigator.cookieEnabled||document.cookie.length)return!0},s.cookiesAreEnabled=function(){if(s.checkCookieSupport())return!0;return window.document.cookie="prebid.cookieTest",-1!=window.document.cookie.indexOf("prebid.cookieTest")},s.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got "+t);var r=0;return function(){++r===t&&e.apply(null,arguments)}},s.groupBy=function(e,r){return e.reduce((function(e,t){return(e[t[r]]=e[t[r]]||[]).push(t),e}),{})},s.deepAccess=function(e,t){if(!e)return;t=String(t).split(".");for(var r=0;r<t.length;r++)if(void 0===(e=e[t[r]]))return;return e},s.createContentToExecuteExtScriptInFriendlyFrame=function(e){if(!e)return"";return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;<\/script></head><body>\x3c!--PRE_SCRIPT_TAG_MACRO--\x3e<script src="'+e+'"><\/script>\x3c!--POST_SCRIPT_TAG_MACRO--\x3e</body></html>'},s.getDefinedParams=function(r,e){return e.filter((function(e){return r[e]})).reduce((function(e,t){return i(e,(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e})({},t,r[t]))}),{})},s.isValidMediaTypes=function(e){var t=["banner","native","video"];if(!Object.keys(e).every((function(e){return(0,u.default)(t,e)})))return!1;if(e.video&&e.video.context)return(0,u.default)(["instream","outstream"],e.video.context);return!0},s.getBidderRequest=function(e,t,r){return(0,o.default)(e,(function(e){return 0<e.bids.filter((function(e){return e.bidder===t&&e.adUnitCode===r})).length}))||{start:null,auctionId:null}},s.getUserConfiguredParams=function(e,t,r){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(A,[]).filter((function(e){return e.bidder===r})).map((function(e){return e.params||{}}))},s.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},s.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},s.isAdUnitCodeMatchingSlot=function(t){return function(e){return O(t,e)}},s.isSlotMatchingAdUnitCode=function(t){return function(e){return O(e,t)}},s.unsupportedBidderMessage=function(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    "+e.code+" is a "+r+" ad unit\n    containing bidders that don't support "+r+": "+t+".\n    This bidder won't fetch demand.\n  "},s.deletePropertyFromObject=function(e,t){var r=i({},e);return delete r[t],r},s.removeRequestId=function(e){return s.deletePropertyFromObject(e,"requestId")},s.isInteger=function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},s.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")},s.transformBidderParamKeywords=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return s._each(e,(function(e,t){if(s.isArray(e)){var r=[];s._each(e,(function(e){(e=s.getValueString(i+"."+t,e))&&r.push(e)})),e=r}else{if(e=s.getValueString(i+"."+t,e),!s.isStr(e))return;e=[e]}n.push({key:t,value:e})})),n};var r=t(2),n=l(t(65)),o=l(t(10)),u=l(t(6)),f=t(12);function l(e){return e&&e.__esModule?e:{default:e}}var d=t(4),c=!1,h=Object.prototype.toString,g=null,p=null;try{g=console.info.bind(window.console),p=console.warn.bind(window.console)}catch(e){}s.replaceTokenInString=function(n,e,o){return s._each(e,(function(e,t){e=void 0===e?"":e;var r=o+t.toUpperCase()+o,i=new RegExp(r,"g");n=n.replace(i,e)})),n};var y,v=(y=0,function(){return++y});function m(){return v()+Math.random().toString(16).substr(2)}function b(e){if(s.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function E(){return window.console&&window.console.log}s.getUniqueIdentifierStr=m,s.generateUUID=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},s.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},s.tryAppendQueryString=function(e,t,r){return r?e+(t+"=")+encodeURIComponent(r)+"&":e},s.parseQueryStringParameters=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t},s.transformAdServerTargetingObj=function(t){return t&&0<Object.getOwnPropertyNames(t).length?_(t).map((function(e){return e+"="+encodeURIComponent(R(t,e))})).join("&"):""},s.getTopWindowLocation=function(){if(s.inIframe()){var e=void 0;try{e=s.getAncestorOrigins()||s.getTopFrameReferrer()}catch(e){logInfo("could not obtain top window location",e)}if(e)return(0,f.parse)(e,{decodeSearchAsString:!0})}return s.getWindowLocation()},s.getTopFrameReferrer=function(){try{window.top.location.toString();for(var e="",t=void 0;(t=t?t.parent:window).document&&t.document.referrer&&(e=t.document.referrer),t!==window.top;);return e}catch(e){return window.document.referrer}},s.getAncestorOrigins=function(){if(window.document.location&&window.document.location.ancestorOrigins&&1<=window.document.location.ancestorOrigins.length)return window.document.location.ancestorOrigins[window.document.location.ancestorOrigins.length-1]},s.getWindowTop=function(){return window.top},s.getWindowSelf=function(){return window.self},s.getWindowLocation=function(){return window.location},s.getTopWindowUrl=function(){var t=void 0;try{t=s.getTopWindowLocation().href}catch(e){t=""}return t},s.getTopWindowReferrer=function(){try{return window.top.document.referrer}catch(e){return document.referrer}},s.logWarn=function(e,t){w()&&console.warn&&p&&(t&&0!==t.length||(t=""),p("WARNING: "+e+(""===t?"":" : params : "),t))},s.logInfo=function(e,t){w()&&E()&&g&&(t&&0!==t.length||(t=""),g("INFO: "+e+(""===t?"":" : params : "),t))},s.logMessage=function(e){w()&&E()&&console.log("MESSAGE: "+e)},s.hasConsoleLogger=E;var w=function(){if(!1===r.config.getConfig("debug")&&!1===c){var e="TRUE"===T(d.DEBUG_MODE).toUpperCase();r.config.setConfig({debug:e}),c=!0}return!!r.config.getConfig("debug")};s.debugTurnedOn=w,s.logError=function(){w()&&window.console&&window.console.error&&console.error.apply(console,arguments)},s.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=m(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e};var T=function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};s.getParameterByName=T,s.hasValidBidRequest=function(e,r,t){var i=!1;function n(e,t){t===r[o]&&(i=!0)}for(var o=0;o<r.length;o++)if(i=!1,s._each(e,n),!i)return s.logError("Params are missing for bid request. One of these required paramaters are missing: "+r,t),!1;return!0},s.addEventHandler=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!0):e.attachEvent&&e.attachEvent("on"+t,r)},s.isA=function(e,t){return h.call(e)==="[object "+t+"]"},s.isFn=function(e){return s.isA(e,"Function")},s.isStr=function(e){return s.isA(e,"String")},s.isArray=function(e){return s.isA(e,"Array")},s.isNumber=function(e){return s.isA(e,"Number")},s.isPlainObject=function(e){return s.isA(e,"Object")},s.isEmpty=function(e){if(!e)return!0;if(s.isArray(e)||s.isStr(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},s.isEmptyStr=function(e){return s.isStr(e)&&(!e||0===e.length)},s._each=function(e,t){if(!s.isEmpty(e)){if(s.isFn(e.forEach))return e.forEach(t,this);var r=0,i=e.length;if(0<i)for(;r<i;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}},s.contains=function(e,t){if(s.isEmpty(e))return!1;if(s.isFn(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1},s.indexOf=(function(){if(Array.prototype.indexOf)return Array.prototype.indexOf})(),s._map=function(r,i){if(s.isEmpty(r))return[];if(s.isFn(r.map))return r.map(i);var n=[];return s._each(r,(function(e,t){n.push(i(e,t,r))})),n};var S=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]};function I(e,t,r){return r.indexOf(e)===t}function A(e,t){return e.concat(t)}function _(e){return Object.keys(e)}function R(e,t){return e[t]}s.insertElement=function(e,t,r){t=t||document;var i=void 0;i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{(i=i.length?i:t.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(e,i.firstChild)}catch(e){}},s.triggerPixel=function(e){(new Image).src=e},s.callBurl=function(e){var t=e.source,r=e.burl;t===d.S2S.SRC&&r&&s.triggerPixel(r)},s.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=s.getUniqueIdentifierStr(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",s.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},s.insertUserSyncIframe=function(e){var t=s.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=t;var i=r.firstChild;s.insertElement(i)},s.createTrackPixelHtml=function(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'},s.createTrackPixelIframeHtml=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'+r+'"'),"<iframe "+r+' id="'+s.getUniqueIdentifierStr()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""},s.getIframeDocument=function(e){if(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){s.logError("Cannot get iframe document",e)}return t}},s.getValueString=function(e,t,r){return null==t?r:s.isStr(t)?t:s.isNumber(t)?t.toString():void s.logWarn("Unsuported type for param: "+e+" required type: String")};s.getHighestCpm=P("timeToRespond",(function(e,t){return t<e})),s.getOldestHighestCpmBid=P("responseTimestamp",(function(e,t){return t<e})),s.getLatestHighestCpmBid=P("responseTimestamp",(function(e,t){return e<t}));function P(r,i){return function(e,t){return e.cpm===t.cpm?i(e[r],t[r])?t:e:e.cpm<t.cpm?t:e}}var O=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t}},1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};t.registerBidder=function(t){var r=Array.isArray(t.supportedMediaTypes)?{supportedMediaTypes:t.supportedMediaTypes}:void 0;function i(e){var t=c(e);n.default.registerBidAdapter(t,e.code,r)}i(t),Array.isArray(t.aliases)&&t.aliases.forEach((function(e){n.default.aliasRegistry[e]=t.code,i(p({},t,{code:e}))}))},t.newBidder=c,t.isValid=w;var i=f(r(30)),n=f(r(8)),y=r(2),v=f(r(19)),o=r(15),s=r(18),a=r(67),m=f(r(4)),b=f(r(9)),u=f(r(6)),E=r(0);function f(e){return e&&e.__esModule?e:{default:e}}var d=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function c(d){return p(new i.default(d.code),{getSpec:function(){return Object.freeze(d)},registerSyncs:c,callBids:function(o,s,i,r){if(Array.isArray(o.bids)){var a={},u=[],e=o.bids.filter(h);if(0!==e.length){var f={};e.forEach((function(e){(f[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}));var t=d.buildRequests(e,o);if(t&&0!==t.length){Array.isArray(t)||(t=[t]);var l=(0,E.delayExecution)(n,t.length);t.forEach((function(n){switch(n.method){case"GET":r(""+n.url+(function(e){if(e)return"?"+("object"===(void 0===e?"undefined":g(e))?(0,E.parseQueryStringParameters)(e):e);return""})(n.data),{success:e,error:t},void 0,p({method:"GET",withCredentials:!0},n.options));break;case"POST":r(n.url,{success:e,error:t},"string"==typeof n.data?n.data:JSON.stringify(n.data),p({method:"POST",contentType:"text/plain",withCredentials:!0},n.options));break;default:(0,E.logWarn)("Skipping invalid request from "+d.code+". Request type "+n.type+" must be GET or POST"),l()}function e(e,t){try{e=JSON.parse(e)}catch(e){}e={body:e,headers:{get:t.getResponseHeader.bind(t)}},u.push(e);var r=void 0;try{r=d.interpretResponse(e,n)}catch(e){return(0,E.logError)("Bidder "+d.code+" failed to interpret the server's response. Continuing without bids",null,e),void l()}function i(e){var t,r,i=f[e.requestId];if(i){var n=p(v.default.createBid(m.default.STATUS.GOOD,i),e);t=i.adUnitCode,r=n,a[t]=!0,w(t,r,[o])&&s(t,r)}else(0,E.logWarn)("Bidder "+d.code+" made bid for unknown request ID: "+e.requestId+". Ignoring.")}r&&(r.forEach?r.forEach(i):i(r)),l(r)}function t(e){(0,E.logError)("Server call for "+d.code+" failed: "+e+". Continuing without bids."),l()}}))}else n()}else n()}function n(e){var t=(e?e[0]?e:[e]:[]).some((function(e){return"video"===e.mediaType})),r=y.config.getConfig("cache.url");t&&r||i(),b.default.emit(m.default.EVENTS.BIDDER_DONE,o),c(u,o.gdprConsent)}}});function c(e,t){if(d.getUserSyncs){var r=y.config.getConfig("userSync.filterSettings"),i=d.getUserSyncs({iframeEnabled:!!(y.config.getConfig("userSync.iframeEnabled")||r&&(r.iframe||r.all)),pixelEnabled:!!(y.config.getConfig("userSync.pixelEnabled")||r&&(r.image||r.all))},e,t);i&&(Array.isArray(i)||(i=[i]),i.forEach((function(e){o.userSync.registerSync(e.type,d.code,e.url)})))}}function h(e){return!!d.isBidRequestValid(e)||((0,E.logWarn)("Invalid bid sent to bidder "+d.code+": "+JSON.stringify(e)),!1)}}function w(e,t,r){function i(e){return"Invalid bid from "+t.bidderCode+". Ignoring bid: "+e}return e?t?(n=Object.keys(t),d.every((function(e){return(0,u.default)(n,e)}))?"native"!==t.mediaType||(0,s.nativeBidIsValid)(t,r)?"video"!==t.mediaType||(0,a.isValidVideoBid)(t,r)?!("banner"===t.mediaType&&!(function(e,t,r){if((t.width||0===t.width)&&(t.height||0===t.height))return!0;var i=(0,E.getBidderRequest)(r,t.bidderCode,e),n=i&&i.bids&&i.bids[0]&&i.bids[0].sizes,o=(0,E.parseSizesInput)(n);if(1===o.length){var s=o[0].split("x"),a=l(s,2),u=a[0],f=a[1];return t.width=u,t.height=f,!0}return!1})(e,t,r))||((0,E.logError)(i("Banner bids require a width and height")),!1):((0,E.logError)(i("Video bid does not have required vastUrl or renderer property")),!1):((0,E.logError)(i("Native bid missing some required properties.")),!1):((0,E.logError)(i("Bidder "+t.bidderCode+" is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.")),!1)):((0,E.logWarn)("Some adapter tried to add an undefined bid for "+e+"."),!1):((0,E.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var n}},10:function(e,t,r){r(45),e.exports=r(14).Array.find},104:function(e,t,r){"use strict";var i=r(16),n=r(35)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),r(29)(o)},11:function(e,t,r){"use strict";var i,n=r(6),o=(i=n)&&i.__esModule?i:{default:i},s=(function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}})(r(0));var a={},u=["criteo"];function f(e,t){var r=document.createElement("script");r.type="text/javascript",r.async=!0,t&&"function"==typeof t&&(r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:r.onload=function(){t()}),r.src=e;var i=document.getElementsByTagName("head");(i=i.length?i:document.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(r,i.firstChild)}t.loadExternalScript=function(e,t){if(t&&e)if((0,o.default)(u,t)){if(!a[e]){s.logWarn("module "+t+" is loading external JavaScript");var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,s.insertElement(r),a[e]=!0}}else s.logError(t+" not whitelisted for loading external JavaScript");else s.logError("cannot load external script without url and moduleCode")},t.loadScript=function(t,e,r){t?r?a[t]?e&&"function"==typeof e&&(a[t].loaded?e():a[t].callbacks.push(e)):(a[t]={loaded:!1,callbacks:[]},e&&"function"==typeof e&&a[t].callbacks.push(e),f(t,(function(){a[t].loaded=!0;try{for(var e=0;e<a[t].callbacks.length;e++)a[t].callbacks[e]()}catch(e){s.logError("Error executing callback","adloader.js:loadScript",e)}}))):f(t,e):s.logError("Error attempting to request empty URL","adloader.js:loadScript")}},12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function n(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r=t.split("="),i=s(r,2),n=i[0],o=i[1];return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(o)):e[n]=o||"",e}),{}):{}}function i(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return t+"[]="+e})).join("&"):t+"="+e[t]})).join("&")}t.parseQS=n,t.formatQS=i,t.parse=function(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);var i=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:i?r.search:n(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}},t.format=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+i(e.search||""):"")+(e.hash?"#"+e.hash:"")}},13:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=i;var a=r(11),u=(function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}})(r(0));function i(e){var t=this,r=e.url,i=e.config,n=e.id,o=e.callback,s=e.loaded;this.url=r,this.config=i,this.handlers={},this.id=n,this.loaded=s,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):u.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},(0,a.loadScript)(r,this.callback,!0)}i.install=function(e){return new i({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},i.prototype.getConfig=function(){return this.config},i.prototype.setRender=function(e){this.render=e},i.prototype.setEventHandlers=function(e){this.handlers=e},i.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),u.logMessage("Prebid Renderer event for id "+t+" type "+r)},i.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){u.logError("Error processing Renderer command: ",e)}}},14:function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},15:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userSync=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};t.newUserSync=s;var i,l=(function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}})(r(0)),d=r(2),o=r(6),c=(i=o)&&i.__esModule?i:{default:i};function s(e){var t={},o={image:[],iframe:[]},r=!1,s={},a={image:!1,iframe:!1},u=e.config;function i(){if(u.syncEnabled&&e.browserSupportsCookies&&!r){try{!(function(){if(!u.pixelEnabled&&!a.image)return;l.shuffle(o.image).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];l.logMessage("Invoking image pixel user sync for bidder: "+r),l.triggerPixel(i)}))})(),(function(){if(!u.iframeEnabled&&!a.iframe)return;l.shuffle(o.iframe).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];l.logMessage("Invoking iframe user sync for bidder: "+r),l.insertUserSyncIframe(i)}))})()}catch(e){return l.logError("Error firing user syncs",e)}o={image:[],iframe:[]},r=!0}}return d.config.getConfig("userSync",(function(e){u=f(u,e.userSync)})),t.registerSync=function(e,t,r){if(!u.syncEnabled||!l.isArray(o[e]))return l.logWarn('User sync type "'+e+'" not supported');if(!t)return l.logWarn("Bidder is required for registering sync");if(Number(s[t])>=u.syncsPerBidder)return l.logWarn('Number of user syncs exceeded for "'+t+'"');if(u.filterSettings){if(function(e,t){var r=u.filterSettings;if(function(e,t){if(e.all&&e[t])return l.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'+t+'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.'),!1;var r=e.all?e.all:e[t],i=e.all?"all":t;if(!r)return!1;var n=r.filter,o=r.bidders;if(n&&"include"!==n&&"exclude"!==n)return l.logWarn('UserSync "filterSettings.'+i+".filter\" setting '"+n+"' is not a valid option; use either 'include' or 'exclude'."),!1;if("*"!==o&&!(Array.isArray(o)&&0<o.length&&o.every((function(e){return l.isStr(e)&&"*"!==e}))))return l.logWarn('Detected an invalid setup in userSync "filterSettings.'+i+".bidders\"; use either '*' (to represent all bidders) or an array of bidders."),!1;return!0}(r,e)){a[e]=!0;var i=r.all?r.all:r[e],n="*"===i.bidders?[t]:i.bidders,o=i.filter||"include",s={include:function(e,t){return!(0,c.default)(e,t)},exclude:function(e,t){return(0,c.default)(e,t)}};return s[o](n,t)}return!1}(e,t))return l.logWarn("Bidder '"+t+"' is not permitted to register their userSync "+e+" pixels as per filterSettings config.")}else if(u.enabledBidders&&u.enabledBidders.length&&u.enabledBidders.indexOf(t)<0)return l.logWarn('Bidder "'+t+'" not permitted to register their userSync pixels.');var i,n;o[e].push([t,r]),(i=s)[n=t]?i[n]+=1:i[n]=1,s=i},t.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(i,Number(e));i()},t.triggerUserSyncs=function(){u.enableOverride&&t.syncUsers()},t}d.config.setDefaults({userSync:{syncEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3}});var a=!l.isSafariBrowser()&&l.cookiesAreEnabled();t.userSync=s({config:d.config.getConfig("userSync"),browserSupportsCookies:a})},16:function(e,t,r){var p=r(20),y=r(14),v=r(33),m=r(47),b=r(54),E="prototype",w=function(e,t,r){var i,n,o,s=e&w.F,a=e&w.G,u=e&w.S,f=e&w.P,l=e&w.B,d=e&w.W,c=a?y:y[t]||(y[t]={}),h=c[E],g=a?p:u?p[t]:(p[t]||{})[E];for(i in a&&(r=t),r)(n=!s&&g&&void 0!==g[i])&&b(c,i)||(o=n?g[i]:r[i],c[i]=a&&"function"!=typeof g[i]?r[i]:l&&n?v(o,p):d&&g[i]==o?(function(i){var e=function(e,t,r){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(e);case 2:return new i(e,t)}return new i(e,t,r)}return i.apply(this,arguments)};return e[E]=i[E],e})(o):f&&"function"==typeof o?v(Function.call,o):o,f&&((c.virtual||(c.virtual={}))[i]=o,e&w.R&&h&&!h[i]&&m(h,i,o)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},17:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},18:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.NATIVE_TARGETING_KEYS=t.NATIVE_KEYS=t.nativeAdapters=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.processNativeAdUnitParams=function(e){if(e&&e.type&&(function(e){if(!e||!(0,a.default)(Object.keys(l),e))return(0,s.logError)(e+" nativeParam is not supported"),!1;return!0})(e.type))return l[e.type];return e},t.nativeBidIsValid=function(t,e){var r=(0,s.getBidRequest)(t.adId,e);if(!r)return!1;if(!(0,s.deepAccess)(t,"native.clickUrl"))return!1;if((0,s.deepAccess)(t,"native.image")&&(!(0,s.deepAccess)(t,"native.image.height")||!(0,s.deepAccess)(t,"native.image.width")))return!1;if((0,s.deepAccess)(t,"native.icon")&&(!(0,s.deepAccess)(t,"native.icon.height")||!(0,s.deepAccess)(t,"native.icon.width")))return!1;var i=r.nativeParams;if(!i)return!0;var n=Object.keys(i).filter((function(e){return i[e].required})),o=Object.keys(t.native).filter((function(e){return t.native[e]}));return n.every((function(e){return(0,a.default)(o,e)}))},t.fireNativeTrackers=function(e,t){var r=void 0;"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,s.insertHtmlIntoIframe)(t.native.javascriptTrackers));(r||[]).forEach(s.triggerPixel)},t.getNativeTargeting=function(i){var n={};return Object.keys(i.native).forEach((function(e){var t=f[e],r=i.native[e];"object"===(void 0===r?"undefined":o(r))&&r.url&&(r=r.url),t&&(n[t]=r)})),n};var i,s=r(0),n=r(6),a=(i=n)&&i.__esModule?i:{default:i};var u=t.nativeAdapters=[],f=t.NATIVE_KEYS={title:"hb_native_title",body:"hb_native_body",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",cta:"hb_native_cta"},l=(t.NATIVE_TARGETING_KEYS=Object.keys(f).map((function(e){return f[e]})),{image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}});t.nativeAdUnit=function(e){var t="native"===e.mediaType,r=(0,s.deepAccess)(e,"mediaTypes.native");return t||r};var d=t.nativeBidder=function(e){return(0,a.default)(u,e.bidder)};t.hasNonNativeBidder=function(e){return e.bids.filter((function(e){return!d(e)})).length}},19:function(e,t,r){"use strict";var o=r(0);function i(e,t){var r=t&&t.bidId||o.getUniqueIdentifierStr(),i=t&&t.src||"client",n=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=(function(){switch(n){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}})(),this.adId=r,this.mediaType="banner",this.source=i,this.getStatusCode=function(){return n},this.getSize=function(){return this.width+"x"+this.height}}t.createBid=function(e,t){return new i(e,t)}},190:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t){var r={puts:e.map(s)};(0,n.ajax)(o.config.getConfig("cache.url"),(i=t,{success:function(e){var t=void 0;try{t=JSON.parse(e).responses}catch(e){return void i(e,[])}t?i(null,t):i(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){i(new Error("Error storing video ad in the cache: "+e+": "+JSON.stringify(t)),[])}}),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0});var i},t.getCacheUrl=function(e){return o.config.getConfig("cache.url")+"?uuid="+e};var n=r(7),o=r(2);function s(e){var t,r;return{type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,r=e.vastImpUrl,'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+t+"]]></VASTAdTagURI>\n        <Impression>"+(r?"<![CDATA["+r+"]]>":"")+"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}}},2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.RANDOM=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.newConfig=a;var i=r(32),l=o(r(10)),d=o(r(6)),n=r(21);function o(e){return e&&e.__esModule?e:{default:e}}var c=r(0),h=!1,g=3e3,p=window.location.origin,y=100,v=!0,m=200,s=t.RANDOM="random",b={};b[s]=!0,b.fixed=!0;var E=s,w={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},T="*";function a(){var o=[],s=void 0,a=void 0;function e(){function n(t){return(0,l.default)(Object.keys(w),(function(e){return t===w[e]}))}function o(e){if(!e)return c.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)n(e)||c.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if("object"===(void 0===e?"undefined":f(e))&&!(0,i.isValidPriceConfig)(e))return c.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}s={},a={_debug:h,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:g,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:p,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_cookieSyncDelay:y,get cookieSyncDelay(){return pbjs.cookieSyncDelay||this._cookieSyncDelay},set cookieSyncDelay(e){this._cookieSyncDelay=e},_priceGranularity:w.MEDIUM,set priceGranularity(e){o(e)&&("string"==typeof e?this._priceGranularity=n(e)?e:w.MEDIUM:"object"===(void 0===e?"undefined":f(e))&&(this._customPriceBucket=e,this._priceGranularity=w.CUSTOM,c.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(r){var i=this;this._mediaTypePriceGranularity=Object.keys(r).reduce((function(e,t){return o(r[t])?"string"==typeof r?e[t]=n(r[t])?r[t]:i._priceGranularity:"object"===(void 0===r?"undefined":f(r))&&(e[t]=r[t],c.logMessage("Using custom price granularity for "+t)):c.logWarn("Invalid price granularity for media type: "+t),e}),{})},_sendAllBids:v,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_bidderSequence:E,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){b[e]?this._bidderSequence=e:c.logWarn("Invalid order: "+e+". Bidder Sequence was not set.")},_timoutBuffer:m,get timeoutBuffer(){return this._timoutBuffer},set timeoutBuffer(e){this._timoutBuffer=e}}}var t=(0,n.createHook)("asyncSeries",(function(r){if("object"===(void 0===r?"undefined":f(r))){var n,t,e=Object.keys(r),i={};e.forEach((function(e){var t=r[e];"object"===f(s[e])&&"object"===(void 0===t?"undefined":f(t))&&(t=u({},s[e],t)),i[e]=a[e]=t})),n=i,t=Object.keys(n),o.filter((function(e){return(0,d.default)(t,e.topic)})).forEach((function(e){var t,r,i;e.callback((t={},r=e.topic,i=n[e.topic],r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t))})),o.filter((function(e){return e.topic===T})).forEach((function(e){return e.callback(n)}))}else c.logError("setConfig options must be an object")}));return e(),{getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?c.deepAccess(a,e):a}return function(e,t){var r=t;if("string"!=typeof e&&(r=e,e=T),"function"==typeof r)return o.push({topic:e,callback:r}),function(){o.splice(o.indexOf(t),1)};c.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:t,setDefaults:function(e){"object"===(void 0===s?"undefined":f(s))?(u(s,e),u(a,e)):c.logError("defaults must be an object")},resetConfig:e}}t.config=a()},20:function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},21:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.createHook=function(i,n,e){var a=[{fn:n,priority:0}],o={sync:function(){for(var t=this,e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];a.forEach((function(e){e.fn.apply(t,r)}))},asyncSeries:function(){for(var o=this,e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=0;return a[s].fn.apply(this,t.concat((function e(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=a[++s];if("object"===(void 0===n?"undefined":u(n))&&"function"==typeof n.fn)return n.fn.apply(o,r.concat(e))})))}};if(!o[i])throw"invalid hook type";var t={addHook:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;"function"==typeof e&&(a.push({fn:e,priority:t}),a.sort((function(e,t){return t.priority-e.priority})))},removeHook:function(t){a=a.filter((function(e){return e.fn===n||e.fn!==t}))},hasHook:function(t){return a.some((function(e){return e.fn===t}))}};"string"==typeof e&&(f[e]=t);return s((function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===a.length&&a[0].fn===n)return n.apply(this,t);return o[i].apply(this,t)}),t)};var f=t.hooks={}},22:function(e,t,r){r(104),e.exports=r(14).Array.findIndex},23:function(Up,Vp){var Wp;Wp=(function(){return this})();try{Wp=Wp||Function("return this")()||eval("this")}catch(e){"object"==typeof window&&(Wp=window)}Up.exports=Wp},24:function(e,t){},25:function(e,t,r){e.exports=!r(34)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},26:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},27:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},28:function(e,t,r){var i=r(58)("wks"),n=r(60),o=r(20).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:n)("Symbol."+e))}).store=i},29:function(e,t){e.exports=function(){}},3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NATIVE="native",t.VIDEO="video",t.BANNER="banner"},30:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},31:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auctionManager=void 0,t.newAuctionManager=u;var i,n=r(0),f=r(42),o=r(10),s=(i=o)&&i.__esModule?i:{default:i};var a=r(4);function u(){var u=[],i={};return i.addWinningBid=function(t){var e=(0,s.default)(u,(function(e){return e.getAuctionId()===t.auctionId}));e?e.addWinningBid(t):utils.logWarn("Auction not found when adding winning bid")},i.getAllWinningBids=function(){return u.map((function(e){return e.getWinningBids()})).reduce(n.flatten,[])},i.getBidsRequested=function(){return u.map((function(e){return e.getBidRequests()})).reduce(n.flatten,[])},i.getBidsReceived=function(){return u.map((function(e){if(e.getAuctionStatus()===f.AUCTION_COMPLETED)return e.getBidsReceived()})).reduce(n.flatten,[]).filter((function(e){return e}))},i.getAdUnits=function(){return u.map((function(e){return e.getAdUnits()})).reduce(n.flatten,[])},i.getAdUnitCodes=function(){return u.map((function(e){return e.getAdUnitCodes()})).reduce(n.flatten,[]).filter(n.uniques)},i.createAuction=function(e){var t,r=e.adUnits,i=e.adUnitCodes,n=e.callback,o=e.cbTimeout,s=e.labels,a=(0,f.newAuction)({adUnits:r,adUnitCodes:i,callback:n,cbTimeout:o,labels:s});return t=a,u.push(t),a},i.findBidByAdId=function(t){return(0,s.default)(u.map((function(e){return e.getBidsReceived()})).reduce(n.flatten,[]),(function(e){return e.adId===t}))},i.getStandardBidderAdServerTargeting=function(){return(0,f.getStandardBidderSettings)()[a.JSON_MAPPING.ADSERVER_TARGETING]},i.setStatusForBids=function(e,t){var r=i.findBidByAdId(e);r&&(r.status=t)},i}t.auctionManager=u()},32:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPriceConfig=t.getPriceBucketString=void 0;var i,n=r(10),p=(i=n)&&i.__esModule?i:{default:i};var o=r(0),y=2,s={buckets:[{min:0,max:5,increment:.5}]},a={buckets:[{min:0,max:20,increment:.1}]},u={buckets:[{min:0,max:20,increment:.01}]},f={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},l={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};function d(r,e,i){var n="";if(!v(e))return n;var t,o,s,a,u,f,l,d,c,h=e.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),g=(0,p.default)(e.buckets,(function(e){if(r>h.max*i){var t=e.precision;void 0===t&&(t=y),n=(e.max*i).toFixed(t)}else if(r<=e.max*i&&r>=e.min*i)return e}));return g&&(t=r,s=i,a=void 0!==(o=g).precision?o.precision:y,u=o.increment*s,f=o.min*s,l=Math.pow(10,a+2),d=(t*l-f*l)/(u*l),c=Math.floor(d)*u+f,n=(c=Number(c.toFixed(10))).toFixed(a)),n}function v(e){if(o.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){void 0!==e.min&&e.max&&e.increment||(t=!1)})),t}t.getPriceBucketString=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,i=parseFloat(e);return isNaN(i)&&(i=""),{low:""===i?"":d(e,s,r),med:""===i?"":d(e,a,r),high:""===i?"":d(e,u,r),auto:""===i?"":d(e,l,r),dense:""===i?"":d(e,f,r),custom:""===i?"":d(e,t,r)}},t.isValidPriceConfig=v},33:function(e,t,r){var o=r(46);e.exports=function(i,n,e){if(o(i),void 0===n)return i;switch(e){case 1:return function(e){return i.call(n,e)};case 2:return function(e,t){return i.call(n,e,t)};case 3:return function(e,t,r){return i.call(n,e,t,r)}}return function(){return i.apply(n,arguments)}}},34:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},35:function(e,t,r){var b=r(33),E=r(36),w=r(55),T=r(37),i=r(56);e.exports=function(d,e){var c=1==d,h=2==d,g=3==d,p=4==d,y=6==d,v=5==d||y,m=e||i;return function(e,t,r){for(var i,n,o=w(e),s=E(o),a=b(t,r,3),u=T(s.length),f=0,l=c?m(e,u):h?m(e,0):void 0;f<u;f++)if((v||f in s)&&(n=a(i=s[f],f,o),d))if(c)l[f]=n;else if(n)switch(d){case 3:return!0;case 5:return i;case 6:return f;case 2:l.push(i)}else if(p)return!1;return y?-1:g||p?p:l}}},36:function(e,t,r){var i=r(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},37:function(e,t,r){var i=r(38),n=Math.min;e.exports=function(e){return 0<e?n(i(e),9007199254740991):0}},38:function(e,t){var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?i:r)(e)}},39:function(e,t,r){var i=r(26);e.exports=Array.isArray||function(e){return"Array"==i(e)}},4:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_1.15.0",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocuemnt",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal","hb_source","hb_format"],S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"}}},40:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]},41:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targeting=t.isBidNotExpired=t.RENDERED=t.BID_TARGETING_SET=void 0;var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};t.getHighestCpmBidsFromBidPool=O,t.newTargeting=l;var i,E=r(0),w=r(2),T=r(18),n=r(31),o=r(6),S=(i=o)&&i.__esModule?i:{default:i};function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=r(0),_=r(4),R=[],s=t.BID_TARGETING_SET="targetingSet",a=t.RENDERED="rendered",P=20,u=(t.isBidNotExpired=function(e){return e.responseTimestamp+1e3*e.ttl+1e3>(0,E.timestamp)()},function(e){return e&&(e.status&&!(0,S.default)([s,a],e.status)||!e.status)});function O(e,r){var i=[],n=(0,E.groupBy)(e,"adUnitCode");return Object.keys(n).forEach((function(e){var t=(0,E.groupBy)(n[e],"bidderCode");Object.keys(t).forEach((function(e){return i.push(t[e].reduce(r,f()))}))})),i}function f(e){return{adUnitCode:e,cpm:0,adserverTargeting:{},timeToRespond:0}}function l(r){var h={};function g(e){return"string"==typeof e?[e]:A.isArray(e)?e:r.getAdUnitCodes()||[]}function p(){return O(r.getBidsReceived().filter(u).filter(t.isBidNotExpired),E.getOldestHighestCpmBid)}function y(){return r.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(_.TARGETING_KEYS).filter(E.uniques)}function v(i,n,e,t){return Object.keys(n.adserverTargeting).filter(o()).forEach((function(e){var t,r;i.length&&i.filter((r=e,function(e){return e.adUnitCode===n.adUnitCode&&e.adserverTargeting[r]})).forEach((t=e,function(e){A.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(n.adserverTargeting[t]).filter(E.uniques),delete n.adserverTargeting[t]}))})),i.push(n),i}function o(){var t=y();return function(e){return-1===t.indexOf(e)}}function m(t){return I({},t.adUnitCode,Object.keys(t.adserverTargeting).filter(o()).map((function(e){return I({},e.substring(0,P),[t.adserverTargeting[e]])})))}return h.resetPresetTargeting=function(e){if((0,E.isGptPubadsDefined)()){var t=g(e),i=r.getAdUnits().filter((function(e){return(0,S.default)(t,e.code)}));window.googletag.pubads().getSlots().forEach((function(r){R.forEach((function(t){i.forEach((function(e){e.code!==r.getAdUnitPath()&&e.code!==r.getSlotElementId()||r.setTargeting(t,null)}))}))}))}},h.getAllTargeting=function(e){var i,t,n,r,o,s,a,u,f,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p(),d=g(e),c=(s=d,a=l,u=h.getWinningBids(s,a),f=y(),u=u.map((function(t){return I({},t.adUnitCode,Object.keys(t.adserverTargeting).filter((function(e){return void 0===t.sendStandardTargeting||t.sendStandardTargeting||-1===f.indexOf(e)})).map((function(e){return I({},"hb_deal"===e?(e+"_"+t.bidderCode).substring(0,P):e.substring(0,P),[t.adserverTargeting[e]])})))}))).concat((r=d,o=l,o.filter((function(e){return(0,S.default)(r,e.adUnitCode)})).map((function(e){return b({},e)})).reduce(v,[]).map(m).filter((function(e){return e})))).concat(w.config.getConfig("enableSendAllBids")?(i=d,t=l,n=_.TARGETING_KEYS.concat(T.NATIVE_TARGETING_KEYS),O(t,E.getHighestCpm).map((function(t){if(t.adserverTargeting&&i&&(A.isArray(i)&&(0,S.default)(i,t.adUnitCode)||"string"==typeof i&&t.adUnitCode===i))return I({},t.adUnitCode,(r=t,n.filter((function(e){return void 0!==t.adserverTargeting[e]})).map((function(e){return I({},(e+"_"+r.bidderCode).substring(0,P),[r.adserverTargeting[e]])}))));var r})).filter((function(e){return e}))):[]);return c.map((function(t){Object.keys(t).map((function(e){t[e].map((function(e){-1===R.indexOf(Object.keys(e)[0])&&(R=Object.keys(e).concat(R))}))}))})),c=c.map((function(e){return I({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return I({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,t){return b(t,e)}),{}))})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=b({},e[r],t[r]),e}),{}),d.forEach((function(e){c[e]||(c[e]={})})),c},h.setTargetingForGPT=function(n,e){window.googletag.pubads().getSlots().forEach((function(i){Object.keys(n).filter(e?e(i):(0,E.isAdUnitCodeMatchingSlot)(i)).forEach((function(r){return Object.keys(n[r]).forEach((function(t){var e=n[r][t].split(",");(e=1<e.length?[e]:e).map((function(e){return A.logMessage("Attempting to set key value for slot: "+i.getSlotElementId()+" key: "+t+" value: "+e),e})).forEach((function(e){i.setTargeting(t,e)}))}))}))}))},h.getWinningBids=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p(),t=g(e);return r.filter((function(e){return(0,S.default)(t,e.adUnitCode)})).filter((function(e){return 0<e.cpm})).map((function(e){return e.adUnitCode})).filter(E.uniques).map((function(t){return r.filter((function(e){return e.adUnitCode===t?e:null})).reduce(E.getHighestCpm,f(t))}))},h.setTargetingForAst=function(){var i=h.getAllTargeting();Object.keys(i).forEach((function(r){return Object.keys(i[r]).forEach((function(e){if(A.logMessage("Attempting to set targeting for targetId: "+r+" key: "+e+" value: "+i[r][e]),A.isStr(i[r][e])||A.isArray(i[r][e])){var t={};e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=i[r][e]:t[e]=i[r][e],window.apntag.setKeywords(r,t)}}))}))},h.isApntagDefined=function(){if(window.apntag&&A.isFn(window.apntag.setKeywords))return!0},h}t.targeting=l(n.auctionManager)},42:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBidResponse=t.AUCTION_COMPLETED=t.AUCTION_IN_PROGRESS=t.AUCTION_STARTED=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};t.newAuction=function(e){var d=e.adUnits,t=e.adUnitCodes,r=e.callback,i=e.cbTimeout,n=e.labels,u=d,f=n,c=t,h=[],g=[],l=void 0,p=R.generateUUID(),y=void 0,v=r,m=void 0,b=i,o=[];function E(e,t){if(t&&clearTimeout(m),null!=v){var r=[];e&&(R.logMessage("Auction "+p+" timedOut"),a=g,u=(s=h).filter((function(e){return!e.doneCbCallCount})).map((function(e){return e.bidderCode})).filter(T.uniques),f=a.map((function(e){return e.bidder})).filter(T.uniques),l=u.filter((function(e){return!(0,A.default)(f,e)})),(r=s.map((function(e){return(e.bids||[]).filter((function(e){return(0,A.default)(l,e.bidder)}))})).reduce(T.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&O.emit(N.EVENTS.BID_TIMEOUT,r)),O.emit(N.EVENTS.AUCTION_END,{auctionId:p});try{y=U;var i=c,n=[g.filter(T.adUnitsFilter.bind(this,i)).reduce(D,{})];v.apply(pbjs,n)}catch(e){R.logError("Error executing bidsBackHandler",null,e)}finally{r.length&&P.callTimedOutBidders(d,r,b);var o=S.config.getConfig("userSync")||{};o.enableOverride||_(o.syncDelay)}v=null}var s,a,u,f,l}function w(){h.every((function(e){return 1<=e.doneCbCallCount}))&&(R.logInfo("Bids Received for Auction with id: "+p,g),y=U,E(!1,!0))}return{addBidReceived:function(e){g=g.concat(e)},executeCallback:E,callBids:function(){var i=this;y=B,l=Date.now();var n=P.makeBidRequests(u,l,p,b,f);R.logInfo("Bids Requested for Auction with id: "+p,n),n.forEach((function(e){var t;t=e,h=h.concat(t)}));var o={},e={bidRequests:n,run:function(){var e,t;e=E.bind(null,!0),t=setTimeout(e,b),m=t,y=C;var r={timestamp:l,auctionId:p,timeout:b};O.emit(N.EVENTS.AUCTION_INIT,r),P.callBids(u,n,M.bind(i),function(e){var t=e;return(0,T.delayExecution)((function(){var e=(0,I.default)(h,(function(e){return t===e.bidderRequestId}));e.doneCbCallCount+=1,w()}),1)}.bind(i),{request:function(e,t){a(x,t),a(o,e),L[e]||(L[e]={SRA:!0,origin:t}),1<o[e]&&(L[e].SRA=!1)},done:function(e){x[e]--,j[0]&&s(j[0])&&j.shift()}})}};s(e)||(R.logWarn("queueing auction due to limited endpoint capacity"),j.push(e));function s(e){var i=!0,n=S.config.getConfig("maxRequestsPerOrigin")||k;return e.bidRequests.some((function(e){var t=1,r=void 0!==e.src&&e.src===N.S2S.SRC?"s2s":e.bidderCode;return L[r]&&(!1===L[r].SRA&&(t=Math.min(e.bids.length,n)),x[L[r].origin]+t>n&&(i=!1)),!i})),i&&e.run(),i}function a(e,t){void 0===e[t]?e[t]=1:e[t]++}},bidsBackAll:w,addWinningBid:function(e){o=o.concat(e)},getWinningBids:function(){return o},getTimeout:function(){return b},getAuctionId:function(){return p},getAuctionStatus:function(){return y},getAdUnits:function(){return u},getAdUnitCodes:function(){return c},getBidRequests:function(){return h},getBidsReceived:function(){return g}}},t.getStandardBidderSettings=a,t.getKeyValueTargetingPairs=v,t.adjustBids=f;var T=r(0),g=r(32),n=r(18),l=r(190),p=r(13),S=r(2),i=r(15),o=r(21),I=s(r(10)),A=s(r(6));function s(e){return e&&e.__esModule?e:{default:e}}var _=i.userSync.syncUsers,R=r(0),P=r(8),O=r(9),N=r(4),B=t.AUCTION_STARTED="started",C=t.AUCTION_IN_PROGRESS="inProgress",U=t.AUCTION_COMPLETED="completed";O.on(N.EVENTS.BID_ADJUSTMENT,(function(e){f(e)}));var k=4,x={},L={},j=[];function d(e,t){t.timeToRespond>e.getTimeout()+S.config.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function y(e,t){O.emit(N.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),d(e,t)}var M=t.addBidResponse=(0,o.createHook)("asyncSeries",(function(e,t){var r,i,n,o,s=this.getBidRequests(),a=this.getAuctionId(),u=(0,T.getBidderRequest)(s,t.bidderCode,e),f=(function(e){var t=e.adUnitCode,r=e.bid,i=e.bidRequest,n=e.auctionId,o=i.start,s=h({},r,{auctionId:n,responseTimestamp:(0,T.timestamp)(),requestTimestamp:o,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:t});s.timeToRespond=s.responseTimestamp-s.requestTimestamp,O.emit(N.EVENTS.BID_ADJUSTMENT,s);var a=i.bids&&(0,I.default)(i.bids,(function(e){return e.adUnitCode==t})),u=a&&a.renderer;u&&u.url&&(s.renderer=p.Renderer.install({url:u.url}),s.renderer.setRender(u.render));var f,l=S.config.getConfig("mediaTypePriceGranularity."+r.mediaType),d=(0,g.getPriceBucketString)(s.cpm,"object"===(void 0===l?"undefined":c(l))?l:S.config.getConfig("customPriceBucket"),S.config.getConfig("currency.granularityMultiplier"));s.pbLg=d.low,s.pbMg=d.med,s.pbHg=d.high,s.pbAg=d.auto,s.pbDg=d.dense,s.pbCg=d.custom,s.bidderCode&&(0<s.cpm||s.dealId)&&(f=v(s.bidderCode,s));return s.adserverTargeting=h(s.adserverTargeting||{},f),s})({adUnitCode:e,bid:t,bidRequest:u,auctionId:a});"video"===f.mediaType?(r=this,i=f,n=u,o=!0,S.config.getConfig("cache.url")&&(i.videoCacheKey?i.vastUrl||(R.logError("videoCacheKey specified but not required vastUrl for video bid"),o=!1):(o=!1,(0,l.store)([i],(function(e,t){e?(R.logWarn("Failed to save to the video cache: "+e+". Video bid must be discarded."),d(r,i)):(i.videoCacheKey=t[0].uuid,i.vastUrl||(i.vastUrl=(0,l.getCacheUrl)(i.videoCacheKey)),n.doneCbCallCount+=1,y(r,i),r.bidsBackAll())})))),o&&y(r,i)):y(this,f)}),"addBidResponse");function a(e){var t=S.config.getConfig("mediaTypePriceGranularity."+e),r="string"==typeof e&&t?"string"==typeof t?t:"custom":S.config.getConfig("priceGranularity"),i=pbjs.bidderSettings;return i[N.JSON_MAPPING.BD_SETTING_STANDARD]||(i[N.JSON_MAPPING.BD_SETTING_STANDARD]={}),i[N.JSON_MAPPING.BD_SETTING_STANDARD][N.JSON_MAPPING.ADSERVER_TARGETING]||(i[N.JSON_MAPPING.BD_SETTING_STANDARD][N.JSON_MAPPING.ADSERVER_TARGETING]=[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return r===N.GRANULARITY_OPTIONS.AUTO?e.pbAg:r===N.GRANULARITY_OPTIONS.DENSE?e.pbDg:r===N.GRANULARITY_OPTIONS.LOW?e.pbLg:r===N.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:r===N.GRANULARITY_OPTIONS.HIGH?e.pbHg:r===N.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_deal",val:function(e){return e.dealId}},{key:"hb_source",val:function(e){return e.source}},{key:"hb_format",val:function(e){return e.mediaType}}]),i[N.JSON_MAPPING.BD_SETTING_STANDARD]}function v(e,t){if(!t)return{};var r={},i=pbjs.bidderSettings;i&&(u(r,a(t.mediaType),t),e&&i[e]&&i[e][N.JSON_MAPPING.ADSERVER_TARGETING]&&(u(r,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting));return t.native&&(r=h({},r,(0,n.getNativeTargeting)(t))),r}function u(i,n,o){var e=n[N.JSON_MAPPING.ADSERVER_TARGETING];return o.size=o.getSize(),R._each(e,(function(e){var t=e.key,r=e.val;if(i[t]&&R.logWarn("The key: "+t+" is getting ovewritten"),R.isFn(r))try{r=r(o)}catch(e){R.logError("bidmanager","ERROR",e)}(void 0===n.suppressEmptyKeys||!0!==n.suppressEmptyKeys)&&"hb_deal"!==t||!R.isEmptyStr(r)&&null!=r?i[t]=r:R.logInfo("suppressing empty key '"+t+"' from adserver targeting")})),i}function f(e){var t=e.bidderCode,r=e.cpm,i=void 0;if(pbjs.bidderSettings&&(t&&pbjs.bidderSettings[t]&&"function"==typeof pbjs.bidderSettings[t].bidCpmAdjustment?i=pbjs.bidderSettings[t].bidCpmAdjustment:pbjs.bidderSettings[N.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[N.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(i=pbjs.bidderSettings[N.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),i))try{r=i(e.cpm,h({},e))}catch(e){R.logError("Error during bid adjustment","bidmanager.js",e)}0<=r&&(e.cpm=r)}function D(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},45:function(e,t,r){"use strict";var i=r(16),n=r(35)(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{find:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),r(29)(o)},46:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},47:function(e,t,r){var i=r(48),n=r(53);e.exports=r(25)?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},48:function(e,t,r){var i=r(49),n=r(50),o=r(52),s=Object.defineProperty;t.f=r(25)?Object.defineProperty:function(e,t,r){if(i(e),t=o(t,!0),i(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},49:function(e,t,r){var i=r(17);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},50:function(e,t,r){e.exports=!r(25)&&!r(34)((function(){return 7!=Object.defineProperty(r(51)("div"),"a",{get:function(){return 7}}).a}))},500:function(e,t,r){r(501),e.exports=r(509)},501:function(e,t,r){"use strict";var i,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},o=r(502),s=(i=o)&&i.__esModule?i:{default:i},a=r(507);var u=r(508),f=s.default.loadJson(u).build("LogPrebidEvents"),l=f.Auction,d=(0,a.debounce)((function(){y("Q:",g);var e=n({},h,{timestamp:Math.floor(Date.now()/1e3),auctions:g.map((function(e){return new l(e)}))}),t=new f(e).toArrayBuffer();(0,a.ajax)("https://rb.adnxs.com/pack?log=log_prebid_events&format=protobuf",t,(function(e){return y("Sent Prebid Analytics:",e)})),p=p.concat(g),g=[]}),100),c={BID_RECEIVED:9,BID_WON:10,BID_LOST:11,NO_BID:12,BID_TIMEOUT:13},h={},g=[],p=[];function y(){pbjs.getConfig("debug")&&window.console.log.apply(null,arguments)}window.AppNexusPrebidAnalytics=function(e,t,r){!(function(e){switch(e.eventType){case"auctionInit":(function(e){var t=e.data;h={referer_url:document.referrer,seller_member_id:t.config?t.config.memberId:void 0},g.push({auction_init_timestamp:t.timestamp,prebid_auction_id:t.auctionId,configured_timeout_ms:t.timeout,version:pbjs.version})}).apply(void 0,arguments);break;case"bidRequested":(function(e){var t=e.data;g.push({prebid_auction_id:t.auctionId,ad_units:t.bids.map((function(e){return{ad_unit_code:e.adUnitCode,bids:[{bid_id:e.bidId,bidder_code:e.bidder,request_timestamp:t.start}]}}))})}).apply(void 0,arguments);break;case"bidResponse":(function(e){var t=e.data;if(!t.adUnitCode)return;if(!t.requestTimestamp)return;if(t.cpm===1/0)return;var r={prebid_auction_id:t.auctionId,ad_units:[{ad_unit_code:t.adUnitCode,bids:[{bid_id:t.adId,bidder_code:t.bidder,price:t.cpm,status_code:c.BID_RECEIVED,bidder_ad_unit_id:t.adUnitCode,request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp,creative:{creative_id:t.creative_id&&String(t.creative_id),height:t.height&&+t.height,width:t.width&&+t.width,brand:t.brand}}]}]};0===t.cpm&&(r.ad_units[0].bids[0].status_code=c.NO_BID);t.source&&(r.ad_units[0].bids[0].source=t.source);g.push(r)}).apply(void 0,arguments);break;case"bidWon":(function(e){var t=e.data;if(!t.adUnitCode)return;if(t.cpm===1/0)return;g.push({prebid_auction_id:t.auctionId,ad_units:[{ad_unit_code:t.adUnitCode,bids:[{bid_id:t.adId,bidder_code:t.bidder,price:t.cpm,status_code:c.BID_WON}]}]}),g=g.concat(pbjs.getBidResponsesForAdUnitCode(t.adUnitCode).bids.filter((function(e){return e!==t&&e.adUnitCode===t.adUnitCode})).map((function(e){return{prebid_auction_id:e.auctionId,ad_units:[{ad_unit_code:e.adUnitCode,bids:[{bid_id:e.adId,bidder_code:e.bidder,status_code:c.BID_LOST}]}]}})))}).apply(void 0,arguments);break;case"bidTimeout":(function(e){var t=e.data,r=void 0===t?[]:t;g=g.concat(r.map((function(e){return{prebid_auction_id:e.auctionId,ad_units:[{ad_unit_code:e.adUnitCode,bids:[{bid_id:e.bidId,bidder_code:e.bidder,status_code:c.BID_TIMEOUT}]}]}})))}).apply(void 0,arguments)}})({eventType:t,data:r}),d()}},502:function(a,u,l){"use strict";(function(t,i){var e,r,n,o,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s={scope:{}};s.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},s.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==t&&null!=t?t:e},s.global=s.getGlobal(void 0),s.SYMBOL_PREFIX="jscomp_symbol_",s.initSymbol=function(){s.initSymbol=function(){},s.global.Symbol||(s.global.Symbol=s.Symbol)},s.symbolCounter_=0,s.Symbol=function(e){return s.SYMBOL_PREFIX+(e||"")+s.symbolCounter_++},s.initSymbolIterator=function(){s.initSymbol();var e=s.global.Symbol.iterator;e||(e=s.global.Symbol.iterator=s.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&s.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return s.arrayIterator(this)}}),s.initSymbolIterator=function(){}},s.arrayIterator=function(e){var t=0;return s.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},s.iteratorPrototype=function(e){return s.initSymbolIterator(),(e={next:e})[s.global.Symbol.iterator]=function(){return this},e},s.array=s.array||{},s.iteratorFromArray=function(t,r){s.initSymbolIterator(),t instanceof String&&(t+="");var i=0,n={next:function(){if(i<t.length){var e=i++;return{value:r(e,t[e]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},s.polyfill=function(e,t,r,i){if(t){for(r=s.global,e=e.split("."),i=0;i<e.length-1;i++){var n=e[i];n in r||(r[n]={}),r=r[n]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&s.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},s.polyfill("Array.prototype.keys",(function(e){return e||function(){return s.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3"),s.polyfill("Array.prototype.entries",(function(e){return e||function(){return s.iteratorFromArray(this,(function(e,t){return[e,t]}))}}),"es6-impl","es3"),s.polyfill("Array.prototype.values",(function(e){return e||function(){return s.iteratorFromArray(this,(function(e,t){return t}))}}),"es6","es3"),o=function(v,e){var n,f,t,s,a,r,o={};return o.ByteBuffer=v,o.Long=v.Long||null,o.VERSION="5.0.3",o.WIRE_TYPES={},o.WIRE_TYPES.VARINT=0,o.WIRE_TYPES.BITS64=1,o.WIRE_TYPES.LDELIM=2,o.WIRE_TYPES.STARTGROUP=3,o.WIRE_TYPES.ENDGROUP=4,o.WIRE_TYPES.BITS32=5,o.PACKABLE_WIRE_TYPES=[o.WIRE_TYPES.VARINT,o.WIRE_TYPES.BITS64,o.WIRE_TYPES.BITS32],o.TYPES={int32:{name:"int32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},uint64:{name:"uint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.UZERO:void 0},sint64:{name:"sint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},bool:{name:"bool",wireType:o.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:o.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:o.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.ZERO:void 0},float:{name:"float",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:o.WIRE_TYPES.STARTGROUP,defaultValue:null}},o.MAP_KEY_TYPES=[o.TYPES.int32,o.TYPES.sint32,o.TYPES.sfixed32,o.TYPES.uint32,o.TYPES.fixed32,o.TYPES.int64,o.TYPES.sint64,o.TYPES.sfixed64,o.TYPES.uint64,o.TYPES.fixed64,o.TYPES.bool,o.TYPES.string,o.TYPES.bytes],o.ID_MIN=1,o.ID_MAX=536870911,o.convertFieldsToCamelCase=!1,o.populateAccessors=!0,o.populateDefaults=!0,o.Util=((n={}).IS_NODE=!("object"!==(void 0===i?"undefined":m(i))||"[object process]"!=i+""||i.browser),n.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,r=0;r<e.length;r++){try{t=e[r]()}catch(e){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},n.fetch=function(e,r){if(r&&"function"!=typeof r&&(r=null),n.IS_NODE){var t=l(506);if(r)t.readFile(e,(function(e,t){r(e?null:""+t)}));else try{return t.readFileSync(e)}catch(e){return null}}else{var i=n.XHR();if(i.open("GET",e,!!r),i.setRequestHeader("Accept","text/plain"),"function"==typeof i.overrideMimeType&&i.overrideMimeType("text/plain"),!r)return i.send(null),200==i.status||0==i.status&&"string"==typeof i.responseText?i.responseText:null;i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0==i.status&&"string"==typeof i.responseText?r(i.responseText):r(null))},4!=i.readyState&&i.send(null)}},n.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},n),o.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,FQTYPEREF:/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},o.Reflect=(function(l){function o(e,t){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low==e.low&&e.high==e.high)return new l.Long(e.low,e.high,void 0===t?e.unsigned:t);if("string"==typeof e)return l.Long.fromString(e,t||!1,10);if("number"==typeof e)return l.Long.fromNumber(e,t||!1);throw Error("not convertible to Long")}function u(e,t){var r=7&(i=t.readVarint32()),i=i>>>3;switch(r){case l.WIRE_TYPES.VARINT:for(;128==(128&(i=t.readUint8())););break;case l.WIRE_TYPES.BITS64:t.offset+=8;break;case l.WIRE_TYPES.LDELIM:i=t.readVarint32(),t.offset+=i;break;case l.WIRE_TYPES.STARTGROUP:u(i,t);break;case l.WIRE_TYPES.ENDGROUP:if(i===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+i+" ("+e+" expected)");case l.WIRE_TYPES.BITS32:t.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+r)}return!0}var s={},d=function(e,t,r){this.builder=e,this.parent=t,this.name=r};(e=d.prototype).fqn=function(){for(var e=this.name,t=this;;){if(null==(t=t.parent))break;e=t.name+"."+e}return e},e.toString=function(e){return(e?this.className+" ":"")+this.fqn()},e.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},s.T=d;var e,a=function(e,t,r,i,n){d.call(this,e,t,r),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=n||"proto2"};(e=a.prototype=Object.create(d.prototype)).getChildren=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],r=0,i=this.children.length;r<i;++r)this.children[r]instanceof e&&t.push(this.children[r]);return t},e.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof c.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof c.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},e.getChild=function(e){for(var t="number"==typeof e?"id":"name",r=0,i=this.children.length;r<i;++r)if(this.children[r][t]===e)return this.children[r];return null},e.resolve=function(e,t){var r="string"==typeof e?e.split("."):e,i=this,n=0;if(""===r[n]){for(;null!==i.parent;)i=i.parent;n++}do{do{if(!(i instanceof s.Namespace)){i=null;break}if(!((i=i.getChild(r[n]))&&i instanceof s.T)||t&&!(i instanceof s.Namespace)){i=null;break}n++}while(n<r.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},e.qn=function(e){for(var t=[],r=e;t.unshift(r.name),null!==(r=r.parent););for(r=1;r<=t.length;r++){var i=t.slice(t.length-r);if(e===this.resolve(i,e instanceof s.Namespace))return i.join(".")}return e.fqn()},e.build=function(){for(var e,t={},r=this.children,i=0,n=r.length;i<n;++i)(e=r[i])instanceof a&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},e.buildOpt=function(){for(var e={},t=Object.keys(this.options),r=0,i=t.length;r<i;++r)e[t[r]]=this.options[t[r]];return e},e.getOption=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},s.Namespace=a;var f=function(e,t,r,i,n){if(this.type=e,this.resolvedType=t,this.isMapKey=r,this.syntax=i,this.name=n,r&&l.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},t=f.prototype;f.defaultFieldValue=function(e){if("string"==typeof e&&(e=l.TYPES[e]),void 0===e.defaultValue)throw Error("default value for type "+e.name+" is not supported");return e==l.TYPES.bytes?new v(0):e.defaultValue},t.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},t.verifyValue=function(t){function r(e,t){throw Error("Illegal value for "+i.toString(!0)+" of type "+i.type.name+": "+e+" ("+t+")")}var i=this;switch(this.type){case l.TYPES.int32:case l.TYPES.sint32:case l.TYPES.sfixed32:return("number"!=typeof t||t==t&&0!=t%1)&&r(void 0===t?"undefined":m(t),"not an integer"),4294967295<t?0|t:t;case l.TYPES.uint32:case l.TYPES.fixed32:return("number"!=typeof t||t==t&&0!=t%1)&&r(void 0===t?"undefined":m(t),"not an integer"),t<0?t>>>0:t;case l.TYPES.int64:case l.TYPES.sint64:case l.TYPES.sfixed64:if(l.Long)try{return o(t,!1)}catch(e){r(void 0===t?"undefined":m(t),e.message)}else r(void 0===t?"undefined":m(t),"requires Long.js");case l.TYPES.uint64:case l.TYPES.fixed64:if(l.Long)try{return o(t,!0)}catch(e){r(void 0===t?"undefined":m(t),e.message)}else r(void 0===t?"undefined":m(t),"requires Long.js");case l.TYPES.bool:return"boolean"!=typeof t&&r(void 0===t?"undefined":m(t),"not a boolean"),t;case l.TYPES.float:case l.TYPES.double:return"number"!=typeof t&&r(void 0===t?"undefined":m(t),"not a number"),t;case l.TYPES.string:return"string"==typeof t||t&&t instanceof String||r(void 0===t?"undefined":m(t),"not a string"),""+t;case l.TYPES.bytes:return v.isByteBuffer(t)?t:v.wrap(t,"base64");case l.TYPES.enum:for(var e=this.resolvedType.getChildren(l.Reflect.Enum.Value),n=0;n<e.length;n++)if(e[n].name==t||e[n].id==t)return e[n].id;if("proto3"===this.syntax)return("number"!=typeof t||t==t&&0!=t%1)&&r(void 0===t?"undefined":m(t),"not an integer"),(4294967295<t||t<0)&&r(void 0===t?"undefined":m(t),"not in range for uint32"),t;r(t,"not a valid enum value");case l.TYPES.group:case l.TYPES.message:if(t&&"object"===(void 0===t?"undefined":m(t))||r(void 0===t?"undefined":m(t),"object expected"),t instanceof this.resolvedType.clazz)return t;if(t instanceof l.Builder.Message){e={};for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);t=e}return new this.resolvedType.clazz(t)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+t+" (undefined type "+this.type+")")},t.calculateLength=function(e,t){if(null===t)return 0;var r;switch(this.type){case l.TYPES.int32:return t<0?v.calculateVarint64(t):v.calculateVarint32(t);case l.TYPES.uint32:return v.calculateVarint32(t);case l.TYPES.sint32:return v.calculateVarint32(v.zigZagEncode32(t));case l.TYPES.fixed32:case l.TYPES.sfixed32:case l.TYPES.float:return 4;case l.TYPES.int64:case l.TYPES.uint64:return v.calculateVarint64(t);case l.TYPES.sint64:return v.calculateVarint64(v.zigZagEncode64(t));case l.TYPES.fixed64:case l.TYPES.sfixed64:return 8;case l.TYPES.bool:return 1;case l.TYPES.enum:return v.calculateVarint32(t);case l.TYPES.double:return 8;case l.TYPES.string:return r=v.calculateUTF8Bytes(t),v.calculateVarint32(r)+r;case l.TYPES.bytes:if(t.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+t.remaining()+" bytes remaining");return v.calculateVarint32(t.remaining())+t.remaining();case l.TYPES.message:return r=this.resolvedType.calculate(t),v.calculateVarint32(r)+r;case l.TYPES.group:return(r=this.resolvedType.calculate(t))+v.calculateVarint32(e<<3|l.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+t+" (unknown type)")},t.encodeValue=function(e,t,r){if(null===t)return r;switch(this.type){case l.TYPES.int32:t<0?r.writeVarint64(t):r.writeVarint32(t);break;case l.TYPES.uint32:r.writeVarint32(t);break;case l.TYPES.sint32:r.writeVarint32ZigZag(t);break;case l.TYPES.fixed32:r.writeUint32(t);break;case l.TYPES.sfixed32:r.writeInt32(t);break;case l.TYPES.int64:case l.TYPES.uint64:r.writeVarint64(t);break;case l.TYPES.sint64:r.writeVarint64ZigZag(t);break;case l.TYPES.fixed64:r.writeUint64(t);break;case l.TYPES.sfixed64:r.writeInt64(t);break;case l.TYPES.bool:"string"==typeof t?r.writeVarint32("false"===t.toLowerCase()?0:!!t):r.writeVarint32(t?1:0);break;case l.TYPES.enum:r.writeVarint32(t);break;case l.TYPES.float:r.writeFloat32(t);break;case l.TYPES.double:r.writeFloat64(t);break;case l.TYPES.string:r.writeVString(t);break;case l.TYPES.bytes:if(t.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+t.remaining()+" bytes remaining");e=t.offset,r.writeVarint32(t.remaining()),r.append(t),t.offset=e;break;case l.TYPES.message:e=(new v).LE(),this.resolvedType.encode(t,e),r.writeVarint32(e.offset),r.append(e.flip());break;case l.TYPES.group:this.resolvedType.encode(t,r),r.writeVarint32(e<<3|l.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+t+" (unknown type)")}return r},t.decode=function(e,t,r){if(t!=this.type.wireType)throw Error("Unexpected wire type for element");switch(this.type){case l.TYPES.int32:return 0|e.readVarint32();case l.TYPES.uint32:return e.readVarint32()>>>0;case l.TYPES.sint32:return 0|e.readVarint32ZigZag();case l.TYPES.fixed32:return e.readUint32()>>>0;case l.TYPES.sfixed32:return 0|e.readInt32();case l.TYPES.int64:return e.readVarint64();case l.TYPES.uint64:return e.readVarint64().toUnsigned();case l.TYPES.sint64:return e.readVarint64ZigZag();case l.TYPES.fixed64:return e.readUint64();case l.TYPES.sfixed64:return e.readInt64();case l.TYPES.bool:return!!e.readVarint32();case l.TYPES.enum:return e.readVarint32();case l.TYPES.float:return e.readFloat();case l.TYPES.double:return e.readDouble();case l.TYPES.string:return e.readVString();case l.TYPES.bytes:if(r=e.readVarint32(),e.remaining()<r)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+r+" required but got only "+e.remaining());return(t=e.clone()).limit=t.offset+r,e.offset+=r,t;case l.TYPES.message:return r=e.readVarint32(),this.resolvedType.decode(e,r);case l.TYPES.group:return this.resolvedType.decode(e,-1,r)}throw Error("[INTERNAL] Illegal decode type")},t.valueFromString=function(e){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case l.TYPES.int32:case l.TYPES.sint32:case l.TYPES.sfixed32:case l.TYPES.uint32:case l.TYPES.fixed32:return this.verifyValue(parseInt(e));case l.TYPES.int64:case l.TYPES.sint64:case l.TYPES.sfixed64:case l.TYPES.uint64:case l.TYPES.fixed64:return this.verifyValue(e);case l.TYPES.bool:return"true"===e;case l.TYPES.string:return this.verifyValue(e);case l.TYPES.bytes:return v.fromBinary(e)}},t.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===l.TYPES.bytes?e.toString("binary"):e.toString()},s.Element=f;var c=function(e,t,r,i,n,o){a.call(this,e,t,r,i,o),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!n,this._fieldsByName=this._fieldsById=this._fields=null};(t=c.prototype=Object.create(a.prototype)).build=function(e){if(this.clazz&&!e)return this.clazz;e=(function(u,s){function f(e,r,i,n){if(null===e||"object"!==(void 0===e?"undefined":m(e))){if(n&&n instanceof u.Reflect.Enum)if(null!==(a=u.Reflect.Enum.getName(n.object,e)))return a;return e}if(v.isByteBuffer(e))return r?e.toBase64():e.toBuffer();if(u.Long.isLong(e))return i?e.toString():u.Long.fromValue(e);var o;if(Array.isArray(e))return o=[],e.forEach((function(e,t){o[t]=f(e,r,i,n)})),o;if(o={},e instanceof u.Map){for(var t=(a=e.entries()).next();!t.done;t=a.next())o[e.keyElem.valueToString(t.value[0])]=f(t.value[1],r,i,e.valueElem.resolvedType);return o}var s,a=e.$type;t=void 0;for(s in e)e.hasOwnProperty(s)&&(a&&(t=a.getChild(s))?o[s]=f(e[s],r,i,t.resolvedType):o[s]=f(e[s],r,i));return o}var a=s.getChildren(u.Reflect.Message.Field),l=s.getChildren(u.Reflect.Message.OneOf),i=function e(t,r){u.Builder.Message.call(this);for(var i=0,n=l.length;i<n;++i)this[l[i].name]=null;for(i=0,n=a.length;i<n;++i){var o=a[i];this[o.name]=o.repeated?[]:o.map?new u.Map(o):null,!o.required&&"proto3"!==s.syntax||null===o.defaultValue||(this[o.name]=o.defaultValue)}if(0<arguments.length)if(1!==arguments.length||null===t||"object"!==(void 0===t?"undefined":m(t))||!("function"!=typeof t.encode||t instanceof e)||Array.isArray(t)||t instanceof u.Map||v.isByteBuffer(t)||t instanceof ArrayBuffer||u.Long&&t instanceof u.Long)for(i=0,n=arguments.length;i<n;++i)void 0!==(o=arguments[i])&&this.$set(a[i].name,o);else this.$set(t)},o=i.prototype=Object.create(u.Builder.Message.prototype);o.add=function(e,t,r){var i=s._fieldsByName[e];if(!r){if(!i)throw Error(this+"#"+e+" is undefined");if(!(i instanceof u.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+i.toString(!0));if(!i.repeated)throw Error(this+"#"+e+" is not a repeated field");t=i.verifyValue(t,!0)}return null===this[e]&&(this[e]=[]),this[e].push(t),this},o.$add=o.add,o.set=function(e,t,r){if(e&&"object"===(void 0===e?"undefined":m(e))){for(var i in r=t,e)e.hasOwnProperty(i)&&void 0!==(t=e[i])&&void 0===s._oneofsByName[i]&&this.$set(i,t,r);return this}if(i=s._fieldsByName[e],r)this[e]=t;else{if(!i)throw Error(this+"#"+e+" is not a field: undefined");if(!(i instanceof u.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+i.toString(!0));this[i.name]=t=i.verifyValue(t)}return i&&i.oneof&&(r=this[i.oneof.name],null!==t?(null!==r&&r!==i.name&&(this[r]=null),this[i.oneof.name]=i.name):r===e&&(this[i.oneof.name]=null)),this},o.$set=o.set,o.get=function(e,t){if(t)return this[e];var r=s._fieldsByName[e];if(!(r&&r instanceof u.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(r instanceof u.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+r.toString(!0));return this[r.name]},o.$get=o.get;for(var e=0;e<a.length;e++){var t=a[e];t instanceof u.Reflect.Message.ExtensionField||s.builder.options.populateAccessors&&(function(r){var e=(e=r.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}))).substring(0,1).toUpperCase()+e.substring(1),t=r.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),i=function(e,t){return this[r.name]=t?e:r.verifyValue(e),this},n=function(){return this[r.name]};null===s.getChild("set"+e)&&(o["set"+e]=i),null===s.getChild("set_"+t)&&(o["set_"+t]=i),null===s.getChild("get"+e)&&(o["get"+e]=n),null===s.getChild("get_"+t)&&(o["get_"+t]=n)})(t)}return o.encode=function(t,e){"boolean"==typeof t&&(e=t,t=void 0);var r=!1;t||(t=new v,r=!0);var i=t.littleEndian;try{return s.encode(this,t.LE(),e),(r?t.flip():t).LE(i)}catch(e){throw t.LE(i),e}},i.encode=function(e,t,r){return new i(e).encode(t,r)},o.calculate=function(){return s.calculate(this)},o.encodeDelimited=function(e,t){var r=!1;e||(e=new v,r=!0);var i=(new v).LE();return s.encode(this,i,t).flip(),e.writeVarint32(i.remaining()),e.append(i),r?e.flip():e},o.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},o.toArrayBuffer=o.encodeAB,o.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},o.toBuffer=o.encodeNB,o.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},o.toBase64=o.encode64,o.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},o.toHex=o.encodeHex,o.toRaw=function(e,t){return f(this,!!e,!!t,this.$type)},o.encodeJSON=function(){return JSON.stringify(f(this,!0,!0,this.$type))},i.decode=function(t,e,r){"string"==typeof e&&(r=e,e=-1),"string"==typeof t?t=v.wrap(t,r||"base64"):v.isByteBuffer(t)||(t=v.wrap(t)),r=t.littleEndian;try{var i=s.decode(t.LE(),e);return t.LE(r),i}catch(e){throw t.LE(r),e}},i.decodeDelimited=function(t,e){if("string"==typeof t?t=v.wrap(t,e||"base64"):v.isByteBuffer(t)||(t=v.wrap(t)),t.remaining()<1)return null;var r=t.offset,i=t.readVarint32();if(t.remaining()<i)return t.offset=r,null;try{var n=s.decode(t.slice(t.offset,t.offset+i).LE());return t.offset+=i,n}catch(e){throw t.offset+=i,e}},i.decode64=function(e){return i.decode(e,"base64")},i.decodeHex=function(e){return i.decode(e,"hex")},i.decodeJSON=function(e){return new i(JSON.parse(e))},o.toString=function(){return s.toString()},Object.defineProperty&&(Object.defineProperty(i,"$options",{value:s.buildOpt()}),Object.defineProperty(o,"$options",{value:i.$options}),Object.defineProperty(i,"$type",{value:s}),Object.defineProperty(o,"$type",{value:s})),i})(l,this),this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var t,r=0,i=this.children.length;r<i;r++)if((t=this.children[r])instanceof n||t instanceof c||t instanceof p){if(e.hasOwnProperty(t.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+t.toString(!0)+" cannot override static property '"+t.name+"'");e[t.name]=t.build()}else if(t instanceof c.Field)t.build(),this._fields.push(t),this._fieldsById[t.id]=t,this._fieldsByName[t.name]=t;else if(t instanceof c.OneOf)this._oneofsByName[t.name]=t;else if(!(t instanceof c.OneOf||t instanceof g))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[r].toString(!0));return this.clazz=e},t.encode=function(e,t,r){for(var i,n,o=null,s=0,a=this._fields.length;s<a;++s)n=e[(i=this._fields[s]).name],i.required&&null===n?null===o&&(o=i):i.encode(r?n:i.verifyValue(n),t,e);if(null!==o)throw(e=Error("Missing at least one required field for "+this.toString(!0)+": "+o)).encoded=t,e;return t},t.calculate=function(e){for(var t,r,i=0,n=0,o=this._fields.length;n<o;++n){if(r=e[(t=this._fields[n]).name],t.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);i+=t.calculate(r,e)}return i},t.decode=function(e,t,r){"number"!=typeof t&&(t=-1);for(var i,n,o,s=e.offset,a=new this.clazz;e.offset<s+t||-1===t&&0<e.remaining();){if(o=(i=e.readVarint32())>>>3,(n=7&i)===l.WIRE_TYPES.ENDGROUP){if(o!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+o+" ("+(r?r+" expected":"not a group")+")");break}if(i=this._fieldsById[o])i.repeated&&!i.options.packed?a[i.name].push(i.decode(n,e)):i.map?(n=i.decode(n,e),a[i.name].set(n[0],n[1])):(a[i.name]=i.decode(n,e),i.oneof&&(null!==(n=a[i.oneof.name])&&n!==i.name&&(a[n]=null),a[i.oneof.name]=i.name));else switch(n){case l.WIRE_TYPES.VARINT:e.readVarint32();break;case l.WIRE_TYPES.BITS32:e.offset+=4;break;case l.WIRE_TYPES.BITS64:e.offset+=8;break;case l.WIRE_TYPES.LDELIM:i=e.readVarint32(),e.offset+=i;break;case l.WIRE_TYPES.STARTGROUP:for(;u(o,e););break;default:throw Error("Illegal wire type for unknown field "+o+" in "+this.toString(!0)+"#decode: "+n)}}for(e=0,t=this._fields.length;e<t;++e)if(null===a[(i=this._fields[e]).name])if("proto3"===this.syntax)a[i.name]=i.defaultValue;else{if(i.required)throw(e=Error("Missing at least one required field for "+this.toString(!0)+": "+i.name)).decoded=a,e;l.populateDefaults&&null!==i.defaultValue&&(a[i.name]=i.defaultValue)}return a},s.Message=c;var h=function(e,t,r,i,n,o,s,a,u,f){d.call(this,e,t,o),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.keyType=i||null,this.type=n,this.resolvedType=null,this.id=s,this.options=a||{},this.defaultValue=null,this.oneof=u||null,this.syntax=f||"proto2",this.originalName=this.name,this.keyElement=this.element=null,!this.builder.options.convertFieldsToCamelCase||this instanceof c.ExtensionField||(this.name=l.Util.toCamelCase(this.name))};(t=h.prototype=Object.create(d.prototype)).build=function(){this.element=new f(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new f(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=f.defaultFieldValue(this.type)},t.verifyValue=function(e,t){function r(e,t){throw Error("Illegal value for "+n.toString(!0)+" of type "+n.type.name+": "+e+" ("+t+")")}t=t||!1;var i,n=this;if(null===e)return this.required&&r(void 0===e?"undefined":m(e),"required"),"proto3"===this.syntax&&this.type!==l.TYPES.message&&r(void 0===e?"undefined":m(e),"proto3 field without field presence cannot be null"),null;if(this.repeated&&!t){Array.isArray(e)||(e=[e]);var o=[];for(i=0;i<e.length;i++)o.push(this.element.verifyValue(e[i]));return o}return this.map&&!t?e instanceof l.Map?e:(e instanceof Object||r(void 0===e?"undefined":m(e),"expected ProtoBuf.Map or raw object for map field"),new l.Map(this,e)):(!this.repeated&&Array.isArray(e)&&r(void 0===e?"undefined":m(e),"no array expected"),this.element.verifyValue(e))},t.hasWirePresence=function(e,t){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&t[this.oneof.name]===this.name)return!0;switch(this.type){case l.TYPES.int32:case l.TYPES.sint32:case l.TYPES.sfixed32:case l.TYPES.uint32:case l.TYPES.fixed32:return 0!==e;case l.TYPES.int64:case l.TYPES.sint64:case l.TYPES.sfixed64:case l.TYPES.uint64:case l.TYPES.fixed64:return 0!==e.low||0!==e.high;case l.TYPES.bool:return e;case l.TYPES.float:case l.TYPES.double:return 0!==e;case l.TYPES.string:return 0<e.length;case l.TYPES.bytes:return 0<e.remaining();case l.TYPES.enum:return 0!==e;case l.TYPES.message:return null!==e;default:return!0}},t.encode=function(t,i,e){if(null===this.type||"object"!==m(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===t||this.repeated&&0==t.length)return i;try{var r;if(this.repeated)if(this.options.packed&&0<=l.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){i.writeVarint32(this.id<<3|l.WIRE_TYPES.LDELIM),i.ensureCapacity(i.offset+=1);var n=i.offset;for(r=0;r<t.length;r++)this.element.encodeValue(this.id,t[r],i);var o=i.offset-n,s=v.calculateVarint32(o);if(1<s){var a=i.slice(n,i.offset);n=n+(s-1);i.offset=n,i.append(a)}i.writeVarint32(o,n-s)}else for(r=0;r<t.length;r++)i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,t[r],i);else this.map?t.forEach((function(e,t,r){r=v.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,t)+v.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,e),i.writeVarint32(this.id<<3|l.WIRE_TYPES.LDELIM),i.writeVarint32(r),i.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,t,i),i.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,e,i)}),this):this.hasWirePresence(t,e)&&(i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,t,i))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+t+" ("+e+")")}return i},t.calculate=function(t,e){if(t=this.verifyValue(t),null===this.type||"object"!==m(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===t||this.repeated&&0==t.length)return 0;var i=0;try{var r,n;if(this.repeated)if(this.options.packed&&0<=l.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){for(i+=v.calculateVarint32(this.id<<3|l.WIRE_TYPES.LDELIM),r=n=0;r<t.length;r++)n+=this.element.calculateLength(this.id,t[r]);i+=v.calculateVarint32(n),i+=n}else for(r=0;r<t.length;r++)i+=v.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,t[r]);else this.map?t.forEach((function(e,t,r){e=v.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,t)+v.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,e),i+=v.calculateVarint32(this.id<<3|l.WIRE_TYPES.LDELIM),i+=v.calculateVarint32(e),i+=e}),this):this.hasWirePresence(t,e)&&(i+=v.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,t))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+t+" ("+e+")")}return i},t.decode=function(e,t,r){if(!(!this.map&&e==this.type.wireType||!r&&this.repeated&&this.options.packed&&e==l.WIRE_TYPES.LDELIM||this.map&&e==l.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==l.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&0<=l.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)&&!r){for(e=t.readVarint32(),e=t.offset+e,r=[];t.offset<e;)r.push(this.decode(this.type.wireType,t,!0));return r}if(this.map){var i=f.defaultFieldValue(this.keyType);if(r=f.defaultFieldValue(this.type),e=t.readVarint32(),t.remaining()<e)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+e+" required but got only "+t.remaining());var n=t.clone();for(n.limit=n.offset+e,t.offset+=e;0<n.remaining();)if(e=7&(t=n.readVarint32()),1===(t>>>=3))i=this.keyElement.decode(n,e,t);else{if(2!==t)throw Error("Unexpected tag in map field key/value submessage");r=this.element.decode(n,e,t)}return[i,r]}return this.element.decode(t,e,this.id)},s.Message.Field=h,(t=function(e,t,r,i,n,o,s){h.call(this,e,t,r,null,i,n,o,s)}).prototype=Object.create(h.prototype),s.Message.ExtensionField=t,s.Message.OneOf=function(e,t,r){d.call(this,e,t,r),this.fields=[]};var n=function(e,t,r,i,n){a.call(this,e,t,r,i,n),this.className="Enum",this.object=null};n.getName=function(e,t){for(var r,i=Object.keys(e),n=0;n<i.length;++n)if(e[r=i[n]]===t)return r;return null},(n.prototype=Object.create(a.prototype)).build=function(e){if(this.object&&!e)return this.object;e=new l.Builder.Enum;for(var t=this.getChildren(n.Value),r=0,i=t.length;r<i;++r)e[t[r].name]=t[r].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=e},s.Enum=n,(t=function(e,t,r,i){d.call(this,e,t,r),this.className="Enum.Value",this.id=i}).prototype=Object.create(d.prototype),s.Enum.Value=t;var g=function(e,t,r,i){d.call(this,e,t,r),this.field=i};g.prototype=Object.create(d.prototype),s.Extension=g;var p=function(e,t,r,i){a.call(this,e,t,r,i),this.className="Service",this.clazz=null};(p.prototype=Object.create(a.prototype)).build=function(e){return this.clazz&&!e?this.clazz:this.clazz=(function(t,n){for(var o=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(e,t,r){setTimeout(r.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},e=o.prototype=Object.create(t.Builder.Service.prototype),r=n.getChildren(t.Reflect.Service.RPCMethod),i=0;i<r.length;i++)!(function(i){e[i.name]=function(e,r){try{try{e=i.resolvedRequestType.clazz.decode(v.wrap(e))}catch(e){if(!(e instanceof TypeError))throw e}if(null===e||"object"!==(void 0===e?"undefined":m(e)))throw Error("Illegal arguments");e instanceof i.resolvedRequestType.clazz||(e=new i.resolvedRequestType.clazz(e)),this.rpcImpl(i.fqn(),e,(function(e,t){if(e)r(e);else{null===t&&(t="");try{t=i.resolvedResponseType.clazz.decode(t)}catch(e){}t&&t instanceof i.resolvedResponseType.clazz?r(null,t):r(Error("Illegal response type received in service method "+n.name+"#"+i.name))}}))}catch(e){setTimeout(r.bind(this,e),0)}},o[i.name]=function(e,t,r){new o(e)[i.name](t,r)},Object.defineProperty&&(Object.defineProperty(o[i.name],"$options",{value:i.buildOpt()}),Object.defineProperty(e[i.name],"$options",{value:o[i.name].$options}))})(r[i]);return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(e,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:n}),Object.defineProperty(e,"$type",{value:n})),o})(l,this)},s.Service=p;var y=function(e,t,r,i){d.call(this,e,t,r),this.className="Service.Method",this.options=i||{}};return(y.prototype=Object.create(d.prototype)).buildOpt=e.buildOpt,s.Service.Method=y,(e=function(e,t,r,i,n,o,s,a){y.call(this,e,t,r,a),this.className="Service.RPCMethod",this.requestName=i,this.responseName=n,this.requestStream=o,this.responseStream=s,this.resolvedResponseType=this.resolvedRequestType=null}).prototype=Object.create(y.prototype),s.Service.RPCMethod=e,s})(o),o.Builder=(t=(f=o).Lang,s=o.Reflect,r=(a=function(e){this.ptr=this.ns=new s.Namespace(this,null,""),this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}}).prototype,a.isMessage=function(e){return"string"==typeof e.name&&void 0===e.values&&void 0===e.rpc},a.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&void 0!==e.id},a.isEnum=function(e){return!("string"!=typeof e.name||void 0===e.values||!Array.isArray(e.values)||0===e.values.length)},a.isService=function(e){return!("string"!=typeof e.name||"object"!==m(e.rpc)||!e.rpc)},a.isExtend=function(e){return"string"==typeof e.ref},r.reset=function(){return this.ptr=this.ns,this},r.define=function(e){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new s.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},r.create=function(e){if(!e)return this;if(Array.isArray(e)){if(0===e.length)return this;e=e.slice()}else e=[e];for(var t=[e];0<t.length;){if(e=t.pop(),!Array.isArray(e))throw Error("not a valid namespace: "+JSON.stringify(e));for(;0<e.length;){var r=e.shift();if(a.isMessage(r)){var n=new s.Message(this,this.ptr,r.name,r.options,r.isGroup,r.syntax),i={};r.oneofs&&Object.keys(r.oneofs).forEach((function(e){n.addChild(i[e]=new s.Message.OneOf(this,n,e))}),this),r.fields&&r.fields.forEach((function(e){if(null!==n.getChild(0|e.id))throw Error("duplicate or invalid field id in "+n.name+": "+e.id);if(e.options&&"object"!==m(e.options))throw Error("illegal field options in "+n.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=i[e.oneof]))throw Error("illegal oneof in "+n.name+"#"+e.name+": "+e.oneof);e=new s.Message.Field(this,n,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,r.syntax),t&&t.fields.push(e),n.addChild(e)}),this);var o=[];if(r.enums&&r.enums.forEach((function(e){o.push(e)})),r.messages&&r.messages.forEach((function(e){o.push(e)})),r.services&&r.services.forEach((function(e){o.push(e)})),r.extensions&&(n.extensions="number"==typeof r.extensions[0]?[r.extensions]:r.extensions),this.ptr.addChild(n),0<o.length){t.push(e),e=o,o=null,this.ptr=n,n=null;continue}o=null}else if(a.isEnum(r))n=new s.Enum(this,this.ptr,r.name,r.options,r.syntax),r.values.forEach((function(e){n.addChild(new s.Enum.Value(this,n,e.name,e.id))}),this),this.ptr.addChild(n);else if(a.isService(r))n=new s.Service(this,this.ptr,r.name,r.options),Object.keys(r.rpc).forEach((function(e){var t=r.rpc[e];n.addChild(new s.Service.RPCMethod(this,n,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))}),this),this.ptr.addChild(n);else{if(!a.isExtend(r))throw Error("not a valid definition: "+JSON.stringify(r));if(n=this.ptr.resolve(r.ref,!0))r.fields.forEach((function(t){if(null!==n.getChild(0|t.id))throw Error("duplicate extended field id in "+n.name+": "+t.id);if(n.extensions){var r=!1;if(n.extensions.forEach((function(e){t.id>=e[0]&&t.id<=e[1]&&(r=!0)})),!r)throw Error("illegal extended field id in "+n.name+": "+t.id+" (not within valid ranges)")}var e=t.name;this.options.convertFieldsToCamelCase&&(e=f.Util.toCamelCase(e)),e=new s.Message.ExtensionField(this,n,t.rule,t.type,this.ptr.fqn()+"."+e,t.id,t.options);var i=new s.Extension(this,this.ptr,t.name,e);e.extension=i,this.ptr.addChild(i),n.addChild(e)}),this);else if(!/\.?google\.protobuf\./.test(r.ref))throw Error("extended message "+r.ref+" is not defined")}n=r=null}e=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},r.import=function(t,e){var r="/";if("string"==typeof e){if(f.Util.IS_NODE&&(e=l(24).resolve(e)),!0===this.files[e])return this.reset();this.files[e]=!0}else if("object"===(void 0===e?"undefined":m(e))){var i=e.root;if(f.Util.IS_NODE&&(i=l(24).resolve(i)),(0<=i.indexOf("\\")||0<=e.file.indexOf("\\"))&&(r="\\"),i=f.Util.IS_NODE?l(24).join(i,e.file):i+r+e.file,!0===this.files[i])return this.reset();this.files[i]=!0}if(t.imports&&0<t.imports.length){var n=!1;"object"===(void 0===e?"undefined":m(e))?(this.importRoot=e.root,n=!0,i=this.importRoot,e=e.file,(0<=i.indexOf("\\")||0<=e.indexOf("\\"))&&(r="\\")):"string"==typeof e?this.importRoot?i=this.importRoot:0<=e.indexOf("/")?""===(i=e.replace(/\/[^\/]*$/,""))&&(i="/"):0<=e.indexOf("\\")?(i=e.replace(/\\[^\\]*$/,""),r="\\"):i=".":i=null;for(var o=0;o<t.imports.length;o++)if("string"==typeof t.imports[o]){if(!i)throw Error("cannot determine import root");var s=t.imports[o];if("google/protobuf/descriptor.proto"!==s&&(s=f.Util.IS_NODE?l(24).join(i,s):i+r+s,!0!==this.files[s])){/\.proto$/i.test(s)&&!f.DotProto&&(s=s.replace(/\.proto$/,".json"));var a=f.Util.fetch(s);if(null===a)throw Error("failed to import '"+s+"' in '"+e+"': file not found");/\.json$/i.test(s)?this.import(JSON.parse(a+""),s):this.import(f.DotProto.Parser.parse(a),s)}}else e?/\.(\w+)$/.test(e)?this.import(t.imports[o],e.replace(/^(.+)\.(\w+)$/,(function(e,t,r){return t+"_import"+o+"."+r}))):this.import(t.imports[o],e+"_import"+o):this.import(t.imports[o]);n&&(this.importRoot=null)}t.package&&this.define(t.package),t.syntax&&(function t(r){r.messages&&r.messages.forEach((function(e){e.syntax=r.syntax,t(e)})),r.enums&&r.enums.forEach((function(e){e.syntax=r.syntax}))})(t);var u=this.ptr;return t.options&&Object.keys(t.options).forEach((function(e){u.options[e]=t.options[e]})),t.messages&&(this.create(t.messages),this.ptr=u),t.enums&&(this.create(t.enums),this.ptr=u),t.services&&(this.create(t.services),this.ptr=u),t.extends&&this.create(t.extends),this.reset()},r.resolveAll=function(){var e;if(null==this.ptr||"object"===m(this.ptr.type))return this;if(this.ptr instanceof s.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof s.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=f.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(e=(this.ptr instanceof s.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if((this.ptr.resolvedType=e)instanceof s.Enum){if(this.ptr.type=f.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==e.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(e instanceof s.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=e.isGroup?f.TYPES.group:f.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=f.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==f.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof f.Reflect.Service.Method){if(!(this.ptr instanceof f.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((e=this.ptr.parent.resolve(this.ptr.requestName,!0))&&e instanceof f.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=e,!((e=this.ptr.parent.resolve(this.ptr.responseName,!0))&&e instanceof f.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=e}else if(!(this.ptr instanceof f.Reflect.Message.OneOf||this.ptr instanceof f.Reflect.Extension||this.ptr instanceof f.Reflect.Enum.Value))throw Error("illegal object in namespace: "+m(this.ptr)+": "+this.ptr);return this.reset()},r.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;e="string"==typeof e?e.split("."):e;for(var t=this.result,r=0;r<e.length;r++){if(!t[e[r]]){t=null;break}t=t[e[r]]}return t},r.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},r.toString=function(){return"Builder"},a.Message=function(){},a.Enum=function(){},a.Service=function(){},a),o.Map=(function(e,s){function n(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var t=function(e,t){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new s.Element(e.keyType,null,!0,e.syntax),this.valueElem=new s.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),t)for(var r=Object.keys(t),i=0;i<r.length;i++){var n=this.keyElem.valueFromString(r[i]),o=this.valueElem.verifyValue(t[r[i]]);this.map[this.keyElem.valueToString(n)]={key:n,value:o}}},r=t.prototype;return r.clear=function(){this.map={}},r.delete=function(e){var t=(e=this.keyElem.valueToString(this.keyElem.verifyValue(e)))in this.map;return delete this.map[e],t},r.entries=function(){for(var e,t=[],r=Object.keys(this.map),i=0;i<r.length;i++)t.push([(e=this.map[r[i]]).key,e.value]);return n(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),r=0;r<t.length;r++)e.push(this.map[t[r]].key);return n(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),r=0;r<t.length;r++)e.push(this.map[t[r]].value);return n(e)},r.forEach=function(e,t){for(var r,i=Object.keys(this.map),n=0;n<i.length;n++)e.call(t,(r=this.map[i[n]]).value,r.key,this)},r.set=function(e,t){var r=this.keyElem.verifyValue(e),i=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(r)]={key:r,value:i},this},r.get=function(e){if((e=this.keyElem.valueToString(this.keyElem.verifyValue(e)))in this.map)return this.map[e].value},r.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},t})(0,o.Reflect),o.newBuilder=function(e){return void 0===(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=o.convertFieldsToCamelCase),void 0===e.populateAccessors&&(e.populateAccessors=o.populateAccessors),new o.Builder(e)},o.loadJson=function(e,t,r){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(r=t,t=null),t&&"object"===(void 0===t?"undefined":m(t))||(t=o.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t.import(e,r),t.resolveAll(),t},o.loadJsonFile=function(t,r,i){if(r&&"object"===(void 0===r?"undefined":m(r))?(i=r,r=null):r&&"function"==typeof r||(r=null),r)return o.Util.fetch("string"==typeof t?t:t.root+"/"+t.file,(function(e){if(null===e)r(Error("Failed to fetch file"));else try{r(null,o.loadJson(JSON.parse(e),i,t))}catch(e){r(e)}}));var e=o.Util.fetch("object"===(void 0===t?"undefined":m(t))?t.root+"/"+t.file:t);return null===e?null:o.loadJson(JSON.parse(e),i,t)},o},r=[l(504)],void 0===(n="function"==typeof(e=o)?e.apply(u,r):e)||(a.exports=n)}).call(u,l(23),l(503))},503:function(e,t){var r,i,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!(function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var u,f=[],l=!1,d=-1;function c(){l&&u&&(l=!1,u.length?f=u.concat(f):d=-1,f.length&&h())}function h(){if(!l){var e=a(c);l=!0;for(var t=f.length;t;){for(u=f,f=[];++d<t;)u&&u[d].run();d=-1,t=f.length}u=null,l=!1,(function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}})(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new g(e,t)),1!==f.length||l||a(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},504:function(e,t,r){"use strict";var i,n,o,s,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(u){var g=function e(t,r,i){if(void 0===t&&(t=e.DEFAULT_CAPACITY),void 0===r&&(r=e.DEFAULT_ENDIAN),void 0===i&&(i=e.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");r=!!r,i=!!i}this.buffer=0===t?o:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=r,this.noAssert=i};g.VERSION="5.0.1",g.LITTLE_ENDIAN=!0,g.BIG_ENDIAN=!1,g.DEFAULT_CAPACITY=16,g.DEFAULT_ENDIAN=g.BIG_ENDIAN,g.DEFAULT_NOASSERT=!1,g.Long=u||null;var s=g.prototype;s.__isByteBuffer__,Object.defineProperty(s,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var o=new ArrayBuffer(0),r=String.fromCharCode;function a(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function f(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+r.apply(String,e);1024<e.length+arguments.length&&(t.push(r.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function i(e,t,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,f=u>>1,l=-7,d=r?n-1:0,c=r?-1:1,h=e[t+d];for(d+=c,o=h&(1<<-l)-1,h>>=-l,l+=a;0<l;o=256*o+e[t+d],d+=c,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;0<l;s=256*s+e[t+d],d+=c,l-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,i),o-=f}return(h?-1:1)*s*Math.pow(2,o-i)}function n(e,t,r,i,n,o){var s,a,u,f=8*o-n-1,l=(1<<f)-1,d=l>>1,c=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,g=i?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(t+=1<=s+d?c/u:c*Math.pow(2,1-d))*u&&(s++,u/=2),l<=s+d?(a=0,s=l):1<=s+d?(a=(t*u-1)*Math.pow(2,n),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,n),s=0));8<=n;e[r+h]=255&a,h+=g,a/=256,n-=8);for(s=s<<n|a,f+=n;0<f;e[r+h]=255&s,h+=g,s/=256,f-=8);e[r+h-g]|=128*p}g.accessor=function(){return Uint8Array},g.allocate=function(e,t,r){return new g(e,t,r)},g.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var n,o=0,s=0,a=e.length;s<a;++s)g.isByteBuffer(e[s])||(e[s]=g.wrap(e[s],t)),0<(n=e[s].limit-e[s].offset)&&(o+=n);if(0===o)return new g(0,r,i);var u,f=new g(o,r,i);for(s=0;s<a;)(n=(u=e[s++]).limit-u.offset)<=0||(f.view.set(u.view.subarray(u.offset,u.limit),f.offset),f.offset+=n);return f.limit=f.offset,f.offset=0,f},g.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},g.type=function(){return ArrayBuffer},g.wrap=function(e,t,r,i){if("string"!=typeof t&&(i=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return g.fromBase64(e,r);case"hex":return g.fromHex(e,r);case"binary":return g.fromBinary(e,r);case"utf8":return g.fromUTF8(e,r);case"debug":return g.fromDebug(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!==(void 0===e?"undefined":h(e)))throw TypeError("Illegal buffer");var n;if(g.isByteBuffer(e))return(n=s.clone.call(e)).markedOffset=-1,n;if(e instanceof Uint8Array)n=new g(0,r,i),0<e.length&&(n.buffer=e.buffer,n.offset=e.byteOffset,n.limit=e.byteOffset+e.byteLength,n.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)n=new g(0,r,i),0<e.byteLength&&(n.buffer=e,n.offset=0,n.limit=e.byteLength,n.view=0<e.byteLength?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(n=new g(e.length,r,i)).limit=e.length;for(var o=0;o<e.length;++o)n.view[o]=e[o]}return n},s.writeBitSet=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=t,o=e.length,s=o>>3,a=0;for(t+=this.writeVarint32(o,t);s--;)i=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(i,t++);if(a<o){var u=0;for(i=0;a<o;)i|=(1&!!e[a++])<<u++;this.writeByte(i,t++)}return r?(this.offset=t,this):t-n},s.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var r,i=this.readVarint32(e),n=i.value,o=n>>3,s=0,a=[];for(e+=i.length;o--;)r=this.readByte(e++),a[s++]=!!(1&r),a[s++]=!!(2&r),a[s++]=!!(4&r),a[s++]=!!(8&r),a[s++]=!!(16&r),a[s++]=!!(32&r),a[s++]=!!(64&r),a[s++]=!!(128&r);if(s<n){var u=0;for(r=this.readByte(e++);s<n;)a[s++]=!!(r>>u++&1)}return t&&(this.offset=e),a},s.readBytes=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return r&&(this.offset+=e),i},s.writeBytes=s.append,s.writeInt8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},s.writeByte=s.writeInt8,s.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return 128==(128&r)&&(r=-(255-r+1)),t&&(this.offset+=1),r},s.readByte=s.readInt8,s.writeUint8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},s.writeUInt8=s.writeUint8,s.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return t&&(this.offset+=1),r},s.readUInt8=s.readUint8,s.writeInt16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},s.writeShort=s.writeInt16,s.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),32768==(32768&r)&&(r=-(65535-r+1)),t&&(this.offset+=2),r},s.readShort=s.readInt16,s.writeUint16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},s.writeUInt16=s.writeUint16,s.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),t&&(this.offset+=2),r},s.readUInt16=s.readUint16,s.writeInt32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},s.writeInt=s.writeInt32,s.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),r|=0,t&&(this.offset+=4),r},s.readInt=s.readInt32,s.writeUint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},s.writeUInt32=s.writeUint32,s.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),t&&(this.offset+=4),r},s.readUInt32=s.readUint32,u&&(s.writeInt64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"==typeof e)e=u.fromNumber(e);else if("string"==typeof e)e=u.fromString(e);else if(!(e&&e instanceof u))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=u.fromNumber(e):"string"==typeof e&&(e=u.fromString(e)),t+=8;var i=this.buffer.byteLength;i<t&&this.resize((i*=2)>t?i:t),t-=8;var n=e.low,o=e.high;return this.littleEndian?(this.view[t+3]=n>>>24&255,this.view[t+2]=n>>>16&255,this.view[t+1]=n>>>8&255,this.view[t]=255&n,t+=4,this.view[t+3]=o>>>24&255,this.view[t+2]=o>>>16&255,this.view[t+1]=o>>>8&255,this.view[t]=255&o):(this.view[t]=o>>>24&255,this.view[t+1]=o>>>16&255,this.view[t+2]=o>>>8&255,this.view[t+3]=255&o,t+=4,this.view[t]=n>>>24&255,this.view[t+1]=n>>>16&255,this.view[t+2]=n>>>8&255,this.view[t+3]=255&n),r&&(this.offset+=8),this},s.writeLong=s.writeInt64,s.readInt64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var n=new u(r,i,!1);return t&&(this.offset+=8),n},s.readLong=s.readInt64,s.writeUint64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"==typeof e)e=u.fromNumber(e);else if("string"==typeof e)e=u.fromString(e);else if(!(e&&e instanceof u))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=u.fromNumber(e):"string"==typeof e&&(e=u.fromString(e)),t+=8;var i=this.buffer.byteLength;i<t&&this.resize((i*=2)>t?i:t),t-=8;var n=e.low,o=e.high;return this.littleEndian?(this.view[t+3]=n>>>24&255,this.view[t+2]=n>>>16&255,this.view[t+1]=n>>>8&255,this.view[t]=255&n,t+=4,this.view[t+3]=o>>>24&255,this.view[t+2]=o>>>16&255,this.view[t+1]=o>>>8&255,this.view[t]=255&o):(this.view[t]=o>>>24&255,this.view[t+1]=o>>>16&255,this.view[t+2]=o>>>8&255,this.view[t+3]=255&o,t+=4,this.view[t]=n>>>24&255,this.view[t+1]=n>>>16&255,this.view[t+2]=n>>>8&255,this.view[t+3]=255&n),r&&(this.offset+=8),this},s.writeUInt64=s.writeUint64,s.readUint64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var n=new u(r,i,!0);return t&&(this.offset+=8),n},s.readUInt64=s.readUint64),s.writeFloat32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=4,n(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},s.writeFloat=s.writeFloat32,s.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=i(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),r},s.readFloat=s.readFloat32,s.writeFloat64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return i<t&&this.resize((i*=2)>t?i:t),t-=8,n(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},s.writeDouble=s.writeFloat64,s.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=i(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),r},s.readDouble=s.readFloat64,g.MAX_VARINT32_BYTES=5,g.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},g.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},g.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},s.writeVarint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=g.calculateVarint32(e);t+=n;var o=this.buffer.byteLength;for(o<t&&this.resize((o*=2)>t?o:t),t-=n,e>>>=0;128<=e;)i=127&e|128,this.view[t++]=i,e>>>=7;return this.view[t++]=e,r?(this.offset=t,this):n},s.writeVarint32ZigZag=function(e,t){return this.writeVarint32(g.zigZagEncode32(e),t)},s.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=0,n=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}r=this.view[e++],i<5&&(n|=(127&r)<<7*i),++i}while(0!=(128&r));return n|=0,t?(this.offset=e,n):{value:n,length:i}},s.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"===(void 0===t?"undefined":h(t))?t.value=g.zigZagDecode32(t.value):t=g.zigZagDecode32(t),t},u&&(g.MAX_VARINT64_BYTES=10,g.calculateVarint64=function(e){"number"==typeof e?e=u.fromNumber(e):"string"==typeof e&&(e=u.fromString(e));var t=e.toInt()>>>0,r=e.shiftRightUnsigned(28).toInt()>>>0,i=e.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?t<16384?t<128?1:2:t<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},g.zigZagEncode64=function(e){return"number"==typeof e?e=u.fromNumber(e,!1):"string"==typeof e?e=u.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},g.zigZagDecode64=function(e){return"number"==typeof e?e=u.fromNumber(e,!1):"string"==typeof e?e=u.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(u.ONE).toSigned().negate()).toSigned()},s.writeVarint64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"==typeof e)e=u.fromNumber(e);else if("string"==typeof e)e=u.fromString(e);else if(!(e&&e instanceof u))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=u.fromNumber(e,!1):"string"==typeof e?e=u.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned());var i=g.calculateVarint64(e),n=e.toInt()>>>0,o=e.shiftRightUnsigned(28).toInt()>>>0,s=e.shiftRightUnsigned(56).toInt()>>>0;t+=i;var a=this.buffer.byteLength;switch(a<t&&this.resize((a*=2)>t?a:t),t-=i,i){case 10:this.view[t+9]=s>>>7&1;case 9:this.view[t+8]=9!==i?128|s:127&s;case 8:this.view[t+7]=8!==i?o>>>21|128:o>>>21&127;case 7:this.view[t+6]=7!==i?o>>>14|128:o>>>14&127;case 6:this.view[t+5]=6!==i?o>>>7|128:o>>>7&127;case 5:this.view[t+4]=5!==i?128|o:127&o;case 4:this.view[t+3]=4!==i?n>>>21|128:n>>>21&127;case 3:this.view[t+2]=3!==i?n>>>14|128:n>>>14&127;case 2:this.view[t+1]=2!==i?n>>>7|128:n>>>7&127;case 1:this.view[t]=1!==i?128|n:127&n}return r?(this.offset+=i,this):i},s.writeVarint64ZigZag=function(e,t){return this.writeVarint64(g.zigZagEncode64(e),t)},s.readVarint64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=0,n=0,o=0,s=0;if(i=127&(s=this.view[e++]),128&s&&(i|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&void 0===s)&&(n=127&(s=this.view[e++]),(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[e++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[e++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");var a=u.fromBits(i|n<<28,n>>>4|o<<24,!1);return t?(this.offset=e,a):{value:a,length:e-r}},s.readVarint64ZigZag=function(e){var t=this.readVarint64(e);return t&&t.value instanceof u?t.value=g.zigZagDecode64(t.value):t=g.zigZagDecode64(t),t}),s.writeCString=function(e,t){var r=void 0===t;r&&(t=this.offset);var i,n=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(i=0;i<n;++i)if(0===e.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}n=c.calculateUTF16asUTF8(a(e))[1],t+=n+1;var o=this.buffer.byteLength;return o<t&&this.resize((o*=2)>t?o:t),t-=n+1,c.encodeUTF16toUTF8(a(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,r?(this.offset=t,this):n},s.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=e,n=-1;return c.decodeUTF8toUTF16(function(){if(0===n)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(n=this.view[e++])?null:n}.bind(this),r=f(),!0),t?(this.offset=e,r()):{string:r(),length:e-i}},s.writeIString=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=t;i=c.calculateUTF16asUTF8(a(e),this.noAssert)[1],t+=4+i;var o=this.buffer.byteLength;if(o<t&&this.resize((o*=2)>t?o:t),t-=4+i,this.littleEndian?(this.view[t+3]=i>>>24&255,this.view[t+2]=i>>>16&255,this.view[t+1]=i>>>8&255,this.view[t]=255&i):(this.view[t]=i>>>24&255,this.view[t+1]=i>>>16&255,this.view[t+2]=i>>>8&255,this.view[t+3]=255&i),t+=4,c.encodeUTF16toUTF8(a(e),function(e){this.view[t++]=e}.bind(this)),t!==n+4+i)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+i));return r?(this.offset=t,this):t-n},s.readIString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=e,i=this.readUint32(e),n=this.readUTF8String(i,g.METRICS_BYTES,e+=4);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-r}},g.METRICS_CHARS="c",g.METRICS_BYTES="b",s.writeUTF8String=function(e,t){var r,i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var n=t;r=c.calculateUTF16asUTF8(a(e))[1],t+=r;var o=this.buffer.byteLength;return o<t&&this.resize((o*=2)>t?o:t),t-=r,c.encodeUTF16toUTF8(a(e),function(e){this.view[t++]=e}.bind(this)),i?(this.offset=t,this):t-n},s.writeString=s.writeUTF8String,g.calculateUTF8Chars=function(e){return c.calculateUTF16asUTF8(a(e))[0]},g.calculateString=g.calculateUTF8Bytes=function(e){return c.calculateUTF16asUTF8(a(e))[1]},s.readUTF8String=function(e,t,r){"number"==typeof t&&(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),void 0===t&&(t=g.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,o=0,s=r;if(t===g.METRICS_CHARS){if(n=f(),c.decodeUTF8(function(){return o<e&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++o,c.UTF8toUTF16(e,n)})),o!==e)throw RangeError("Illegal range: Truncated data, "+o+" == "+e);return i?(this.offset=r,n()):{string:n(),length:r-s}}if(t===g.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var a=r+e;if(c.decodeUTF8toUTF16(function(){return r<a?this.view[r++]:null}.bind(this),n=f(),this.noAssert),r!==a)throw RangeError("Illegal range: Truncated data, "+r+" == "+a);return i?(this.offset=r,n()):{string:n(),length:r-s}}throw TypeError("Unsupported metrics: "+t)},s.readString=s.readUTF8String,s.writeVString=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n,o=t;i=c.calculateUTF16asUTF8(a(e),this.noAssert)[1],n=g.calculateVarint32(i),t+=n+i;var s=this.buffer.byteLength;if(s<t&&this.resize((s*=2)>t?s:t),t-=n+i,t+=this.writeVarint32(i,t),c.encodeUTF16toUTF8(a(e),function(e){this.view[t++]=e}.bind(this)),t!==o+i+n)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+i+n));return r?(this.offset=t,this):t-o},s.readVString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=this.readVarint32(e),n=this.readUTF8String(i.value,g.METRICS_BYTES,e+=i.length);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-r}},s.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof g||(e=g.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;r+=n;var o=this.buffer.byteLength;return o<r&&this.resize((o*=2)>r?o:r),r-=n,this.view.set(e.view.subarray(e.offset,e.limit),r),e.offset+=n,i&&(this.offset+=n),this},s.appendTo=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.noAssert=!e,this},s.capacity=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},s.clone=function(e){var t=new g(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},s.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||t<e||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=o,this.view=null,0<=this.markedOffset&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r),n=new Uint8Array(i);return n.set(this.view.subarray(e,t)),this.buffer=i,this.view=n,0<=this.markedOffset&&(this.markedOffset-=e),this.offset=0,this.limit=r,this},s.copy=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||t<e||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new g(0,this.littleEndian,this.noAssert);var r=t-e,i=new g(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,0<=i.markedOffset&&(i.markedOffset-=e),this.copyTo(i,0,e,t),i},s.copyTo=function(e,t,r,i){var n,o;if(!this.noAssert&&!g.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,r=(n=void 0===r)?this.offset:0|r,i=void 0===i?this.limit:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=i-r;return 0===s?e:(e.ensureCapacity(t+s),e.view.set(this.view.subarray(r,i),t),n&&(this.offset+=s),o&&(e.offset+=s),this)},s.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&0<e.length&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||r<t||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(r<=t)return this;for(;t<r;)this.view[t++]=e;return i&&(this.offset=t),this},s.flip=function(){return this.limit=this.offset,this.offset=0,this},s.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},s.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},s.LE=function(e){return this.littleEndian=void 0===e||!!e,this},s.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},s.prepend=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof g||(e=g.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;var o=n-r;if(0<o){var s=new ArrayBuffer(this.buffer.byteLength+o),a=new Uint8Array(s);a.set(this.view.subarray(r,this.buffer.byteLength),n),this.buffer=s,this.view=a,this.offset+=o,0<=this.markedOffset&&(this.markedOffset+=o),this.limit+=o,r+=o}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),r-n),e.offset=e.limit,i&&(this.offset-=n),this},s.prependTo=function(e,t){return e.prepend(this,t),this},s.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},s.remaining=function(){return this.limit-this.offset},s.reset=function(){return 0<=this.markedOffset?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},s.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),r=new Uint8Array(t);r.set(this.view),this.buffer=t,this.view=r}return this},s.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||t<e||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},s.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||t<e||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.limit=t,r},s.toBuffer=function(e){var t=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||r<t||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return o;var i=new ArrayBuffer(r-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,r),0),i},s.toArrayBuffer=s.toBuffer,s.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(r=t=e="utf8"),e){case"utf8":return this.toUTF8(t,r);case"base64":return this.toBase64(t,r);case"hex":return this.toHex(t,r);case"binary":return this.toBinary(t,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var l=(function(){for(var e={},n=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],s=[],t=0,r=n.length;t<r;++t)s[n[t]]=t;return e.encode=function(e,t){for(var r,i;null!==(r=e());)t(n[r>>2&63]),i=(3&r)<<4,null!==(r=e())?(t(n[63&((i|=r>>4&15)|r>>4&15)]),i=(15&r)<<2,null!==(r=e())?(t(n[63&(i|r>>6&3)]),t(n[63&r])):(t(n[63&i]),t(61))):(t(n[63&i]),t(61),t(61))},e.decode=function(e,t){var r,i,n;function o(e){throw Error("Illegal character code: "+e)}for(;null!==(r=e());)if(void 0===(i=s[r])&&o(r),null!==(r=e())&&(void 0===(n=s[r])&&o(r),t(i<<2>>>0|(48&n)>>4),null!==(r=e()))){if(void 0===(i=s[r])){if(61===r)break;o(r)}if(t((15&n)<<4>>>0|(60&i)>>2),null!==(r=e())){if(void 0===(n=s[r])){if(61===r)break;o(r)}t((3&i)<<6>>>0|n)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e})();s.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||t<e)throw RangeError("begin, end");var r;return l.encode(function(){return e<t?this.view[e++]:null}.bind(this),r=f()),r()},g.fromBase64=function(e,t){if("string"!=typeof e)throw TypeError("str");var r=new g(e.length/4*3,t),i=0;return l.decode(a(e),(function(e){r.view[i++]=e})),r.limit=i,r},g.btoa=function(e){return g.fromBinary(e).toBase64()},g.atob=function(e){return g.fromBase64(e).toBinary()},s.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||t<e)throw RangeError("begin, end");if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view[e++]),1024<=r.length&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},g.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var r,i=0,n=e.length,o=new g(n,t);i<n;){if(255<(r=e.charCodeAt(i)))throw RangeError("illegal char code: "+r);o.view[i++]=r}return o.limit=n,o},s.toDebug=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",o="",s="";r<i;){if(-1!==r&&(n+=(t=this.view[r])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=32<t&&t<127?String.fromCharCode(t):".")),++r,e&&0<r&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";s+=n+o+"\n",n=o=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";s+=n+o+"\n"}return e?s:n},g.fromDebug=function(e,t,r){for(var i,n,o=e.length,s=new g((o+1)/3|0,t,r),a=0,u=0,f=!1,l=!1,d=!1,c=!1,h=!1;a<o;){switch(i=e.charAt(a++)){case"!":if(!r){if(l||d||c){h=!0;break}l=d=c=!0}s.offset=s.markedOffset=s.limit=u,f=!1;break;case"|":if(!r){if(l||c){h=!0;break}l=c=!0}s.offset=s.limit=u,f=!1;break;case"[":if(!r){if(l||d){h=!0;break}l=d=!0}s.offset=s.markedOffset=u,f=!1;break;case"<":if(!r){if(l){h=!0;break}l=!0}s.offset=u,f=!1;break;case"]":if(!r){if(c||d){h=!0;break}c=d=!0}s.limit=s.markedOffset=u,f=!1;break;case">":if(!r){if(c){h=!0;break}c=!0}s.limit=u,f=!1;break;case"'":if(!r){if(d){h=!0;break}d=!0}s.markedOffset=u,f=!1;break;case" ":f=!1;break;default:if(!r&&f){h=!0;break}if(n=parseInt(i+e.charAt(a++),16),!r&&(isNaN(n)||n<0||255<n))throw TypeError("Illegal str: Not a debug encoded string");s.view[u++]=n,f=!0}if(h)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!r){if(!l||!c)throw TypeError("Illegal str: Missing offset or limit");if(u<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+o)}return s},s.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||t<e||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)(r=this.view[e++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},g.fromHex=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,n=e.length,o=new g(n/2|0,t),s=0,a=0;s<n;s+=2){if(i=parseInt(e.substring(s,s+2),16),!r&&(!isFinite(i)||i<0||255<i))throw TypeError("Illegal str: Contains non-hex characters");o.view[a++]=i}return o.limit=a,o};var d,c=d={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):(r<2048?t(r>>6&31|192):(r<65536?t(r>>12&15|224):(t(r>>18&7|240),t(r>>12&63|128)),t(r>>6&63|128)),t(63&r|128)),r=null},decodeUTF8:function(e,t){for(var r,i,n,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&s([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&s([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(o=e()))&&s([r,i,n,o]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var r,i=null;null!==(r=null!==i?i:e());)55296<=r&&r<=57343&&null!==(i=e())&&56320<=i&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r);null!==i&&t(i)},UTF8toUTF16:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(55296+((r-=65536)>>10)),t(r%1024+56320)),r=null},encodeUTF16toUTF8:function(e,t){d.UTF16toUTF8(e,(function(e){d.encodeUTF8(e,t)}))},decodeUTF8toUTF16:function(e,t){d.decodeUTF8(e,(function(e){d.UTF8toUTF16(e,t)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,r=0;null!==(t=e());)r+=t<128?1:t<2048?2:t<65536?3:4;return r},calculateUTF16asUTF8:function(e){var t=0,r=0;return d.UTF16toUTF8(e,(function(e){++t,r+=e<128?1:e<2048?2:e<65536?3:4})),[t,r]}};return s.toUTF8=function(t,r){if(void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||r<t||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}var e;try{c.decodeUTF8toUTF16(function(){return t<r?this.view[t++]:null}.bind(this),e=f())}catch(e){if(t!==r)throw RangeError("Illegal range: Truncated data, "+t+" != "+r)}return e()},g.fromUTF8=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var i=new g(c.calculateUTF16asUTF8(a(e),!0)[1],t,r),n=0;return c.encodeUTF16toUTF8(a(e),(function(e){i.view[n++]=e})),i.limit=n,i},g},n=[r(505)],void 0===(o="function"==typeof(i=s)?i.apply(t,n):i)||(e.exports=o)},505:function(e,t,r){"use strict";var i,n,o;"function"==typeof Symbol&&Symbol.iterator;n=[],void 0===(o="function"==typeof(i=function(){function i(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function h(e){return!0===(e&&e.__isLong__)}Object.defineProperty(i.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),i.isLong=h;var o={},s={};function e(e,t){var r,i,n;return t?(n=0<=(e>>>=0)&&e<256)&&(i=s[e])?i:(r=p(e,(0|e)<0?-1:0,!0),n&&(s[e]=r),r):(n=-128<=(e|=0)&&e<128)&&(i=o[e])?i:(r=p(e,e<0?-1:0,!1),n&&(o[e]=r),r)}function g(e,t){if(isNaN(e)||!isFinite(e))return t?u:m;if(t){if(e<0)return u;if(n<=e)return w}else{if(e<=-a)return T;if(a<=e+1)return E}return e<0?g(-e,t).neg():p(e%r|0,e/r|0,t)}function p(e,t,r){return new i(e,t,r)}i.fromInt=e,i.fromNumber=g,i.fromBits=p;var l=Math.pow;function d(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var i;if(0<(i=e.indexOf("-")))throw Error("interior hyphen");if(0===i)return d(e.substring(1),t,r).neg();for(var n=g(l(r,8)),o=m,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),r);if(a<8){var f=g(l(r,a));o=o.mul(f).add(g(u))}else o=(o=o.mul(n)).add(g(u))}return o.unsigned=t,o}function y(e){return e instanceof i?e:"number"==typeof e?g(e):"string"==typeof e?d(e):p(e.low,e.high,e.unsigned)}i.fromString=d,i.fromValue=y;var r=4294967296,n=r*r,a=n/2,v=e(1<<24),m=e(0);i.ZERO=m;var u=e(0,!0);i.UZERO=u;var f=e(1);i.ONE=f;var c=e(1,!0);i.UONE=c;var b=e(-1);i.NEG_ONE=b;var E=p(-1,2147483647,!1);i.MAX_VALUE=E;var w=p(-1,-1,!0);i.MAX_UNSIGNED_VALUE=w;var T=p(0,-2147483648,!1);i.MIN_VALUE=T;var t=i.prototype;return t.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.toNumber=function(){return this.unsigned?(this.high>>>0)*r+(this.low>>>0):this.high*r+(this.low>>>0)},t.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var t=g(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var n=g(l(e,6),this.unsigned),o=this,s="";;){var a=o.div(n),u=(o.sub(a.mul(n)).toInt()>>>0).toString(e);if((o=a).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},t.getHighBits=function(){return this.high},t.getHighBitsUnsigned=function(){return this.high>>>0},t.getLowBits=function(){return this.low},t.getLowBitsUnsigned=function(){return this.low>>>0},t.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},t.isZero=function(){return 0===this.high&&0===this.low},t.isNegative=function(){return!this.unsigned&&this.high<0},t.isPositive=function(){return this.unsigned||0<=this.high},t.isOdd=function(){return 1==(1&this.low)},t.isEven=function(){return 0==(1&this.low)},t.equals=function(e){return h(e)||(e=y(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},t.eq=t.equals,t.notEquals=function(e){return!this.eq(e)},t.neq=t.notEquals,t.lessThan=function(e){return this.comp(e)<0},t.lt=t.lessThan,t.lessThanOrEqual=function(e){return this.comp(e)<=0},t.lte=t.lessThanOrEqual,t.greaterThan=function(e){return 0<this.comp(e)},t.gt=t.greaterThan,t.greaterThanOrEqual=function(e){return 0<=this.comp(e)},t.gte=t.greaterThanOrEqual,t.compare=function(e){if(h(e)||(e=y(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.comp=t.compare,t.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(f)},t.neg=t.negate,t.add=function(e){h(e)||(e=y(e));var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,n=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,u=0,f=0,l=0,d=0;return l+=(d+=n+(65535&e.low))>>>16,f+=(l+=i+a)>>>16,u+=(f+=r+s)>>>16,u+=t+o,p((l&=65535)<<16|(d&=65535),(u&=65535)<<16|(f&=65535),this.unsigned)},t.subtract=function(e){return h(e)||(e=y(e)),this.add(e.neg())},t.sub=t.subtract,t.multiply=function(e){if(this.isZero())return m;if(h(e)||(e=y(e)),e.isZero())return m;if(this.eq(T))return e.isOdd()?T:m;if(e.eq(T))return this.isOdd()?T:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return g(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,n=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,u=65535&e.low,f=0,l=0,d=0,c=0;return d+=(c+=n*u)>>>16,l+=(d+=i*u)>>>16,d&=65535,l+=(d+=n*a)>>>16,f+=(l+=r*u)>>>16,l&=65535,f+=(l+=i*a)>>>16,l&=65535,f+=(l+=n*s)>>>16,f+=t*u+r*a+i*s+n*o,p((d&=65535)<<16|(c&=65535),(f&=65535)<<16|(l&=65535),this.unsigned)},t.mul=t.multiply,t.divide=function(e){if(h(e)||(e=y(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?u:m;var t,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return u;if(e.gt(this.shru(1)))return c;i=u}else{if(this.eq(T))return e.eq(f)||e.eq(b)?T:e.eq(T)?f:(t=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?f:b:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));else if(e.eq(T))return this.unsigned?u:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=m}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var n=Math.ceil(Math.log(t)/Math.LN2),o=n<=48?1:l(2,n-48),s=g(t),a=s.mul(e);a.isNegative()||a.gt(r);)a=(s=g(t-=o,this.unsigned)).mul(e);s.isZero()&&(s=f),i=i.add(s),r=r.sub(a)}return i},t.div=t.divide,t.modulo=function(e){return h(e)||(e=y(e)),this.sub(this.div(e).mul(e))},t.mod=t.modulo,t.not=function(){return p(~this.low,~this.high,this.unsigned)},t.and=function(e){return h(e)||(e=y(e)),p(this.low&e.low,this.high&e.high,this.unsigned)},t.or=function(e){return h(e)||(e=y(e)),p(this.low|e.low,this.high|e.high,this.unsigned)},t.xor=function(e){return h(e)||(e=y(e)),p(this.low^e.low,this.high^e.high,this.unsigned)},t.shiftLeft=function(e){return h(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?p(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):p(0,this.low<<e-32,this.unsigned)},t.shl=t.shiftLeft,t.shiftRight=function(e){return h(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?p(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):p(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},t.shr=t.shiftRight,t.shiftRightUnsigned=function(e){if(h(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?p(this.low>>>e|t<<32-e,t>>>e,this.unsigned):p(32===e?t:t>>>e-32,0,this.unsigned)},t.shru=t.shiftRightUnsigned,t.toSigned=function(){return this.unsigned?p(this.low,this.high,!1):this},t.toUnsigned=function(){return this.unsigned?this:p(this.low,this.high,!0)},t.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},t.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},i})?i.apply(t,n):i)||(e.exports=o)},506:function(e,t){},507:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(i,n,o){var s;return function(){var e=this,t=arguments,r=o&&!s;clearTimeout(s),s=setTimeout((function(){s=null,o||i.apply(e,t)}),n),r&&i.apply(e,t)}},t.ajax=function(e,t,r){try{var i=void 0;window.XMLHttpRequest?i=new window.XMLHttpRequest:window.ActiveXObject&&(i=new window.ActiveXObject("MSXML2.XMLHTTP.3.0")),i.open(t?"POST":"GET",e,!0),i.setRequestHeader("Content-Type","text/plain;charset=utf8"),i.onreadystatechange=function(){3<i.readyState&&r&&r(i)},i.send(t)}catch(e){console.log(e)}}},508:function(e,t){e.exports={package:null,messages:[{name:"LogPrebidEvents",fields:[{rule:"optional",type:"fixed64",name:"timestamp",id:1},{rule:"optional",type:"string",name:"remote_addr_macro",id:2},{rule:"optional",type:"string",name:"user_agent_macro",id:3},{rule:"optional",type:"string",name:"referer_url",id:4},{rule:"optional",type:"uint32",name:"seller_member_id",id:5},{rule:"repeated",type:"Auction",name:"auctions",id:6}],messages:[{name:"Auction",fields:[{rule:"optional",type:"string",name:"version",id:1},{rule:"optional",type:"fixed64",name:"auction_init_timestamp",id:2},{rule:"optional",type:"string",name:"prebid_auction_id",id:3},{rule:"optional",type:"uint32",name:"configured_timeout_ms",id:4},{rule:"repeated",type:"AdUnit",name:"ad_units",id:5}],messages:[{name:"AdUnit",fields:[{rule:"optional",type:"string",name:"ad_unit_code",id:1},{rule:"repeated",type:"Bid",name:"bids",id:2}],messages:[{name:"Bid",fields:[{rule:"optional",type:"string",name:"bid_id",id:1},{rule:"optional",type:"double",name:"price",id:2},{rule:"optional",type:"string",name:"bidder_code",id:3},{rule:"optional",type:"string",name:"bidder_ad_unit_id",id:4},{rule:"optional",type:"fixed64",name:"request_timestamp",id:5},{rule:"optional",type:"fixed64",name:"response_timestamp",id:6},{rule:"optional",type:"uint32",name:"status_code",id:7},{rule:"optional",type:"string",name:"source",id:9},{rule:"optional",type:"Creative",name:"creative",id:8}],messages:[{name:"Creative",fields:[{rule:"optional",type:"string",name:"creative_id",id:1},{rule:"optional",type:"uint32",name:"width",id:2},{rule:"optional",type:"uint32",name:"height",id:3},{rule:"optional",type:"string",name:"brand",id:4}]}]}]}]}]}]}},509:function(e,t,r){"use strict";var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s=r(40),a=r(0),u=r(510),f=r(15),l=r(11),d=r(2),c=r(31),h=r(41),g=r(21),p=r(511),y=r(6),v=(i=y)&&i.__esModule?i:{default:i};var m=(0,s.getGlobal)(),b=r(4),E=r(0),w=r(8),T=r(19),S=r(9),I=f.userSync.triggerUserSyncs,A=b.EVENTS,_=A.ADD_AD_UNITS,R=A.BID_WON,P=A.REQUEST_BIDS,O=A.SET_TARGETING,N=A.AD_RENDER_FAILED,B=b.AD_RENDER_FAILED_REASON,C=B.PREVENT_WRITING_ON_MAIN_DOCUMENT,U=B.NO_AD,k=B.EXCEPTION,x=B.CANNOT_FIND_AD,L=B.MISSING_DOC_OR_ADID,j={bidWon:function(e){var t=c.auctionManager.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(a.flatten).filter(a.uniques);if(!E.contains(t,e))return void E.logError('The "'+e+'" placement is not defined.');return!0}};function M(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function D(e,t,r){var i={};i.reason=e,i.message=t,r&&(i.bid=r),E.logError(t),S.emit(N,i)}function V(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){E.logError("Error processing command :","prebid.js",e)}}))}(0,p.sessionLoader)(),m.bidderSettings=m.bidderSettings||{},m.cbTimeout=m.cbTimeout||200,m.libLoaded=!0,m.version="v1.15.0",E.logInfo("Prebid.js v1.15.0 loaded"),m.adUnits=m.adUnits||[],m.triggerUserSyncs=I,m.getAdserverTargetingForAdUnitCodeStr=function(e){if(E.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=m.getAdserverTargetingForAdUnitCode(e);return E.transformAdServerTargetingObj(t)}E.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},m.getAdserverTargetingForAdUnitCode=function(e){return m.getAdserverTargeting(e)[e]},m.getAdserverTargeting=function(e){return E.logInfo("Invoking pbjs.getAdserverTargeting",arguments),h.targeting.getAllTargeting(e)},m.getBidResponses=function(){E.logInfo("Invoking pbjs.getBidResponses",arguments);var e=c.auctionManager.getBidsReceived().filter(a.adUnitsFilter.bind(this,c.auctionManager.getAdUnitCodes())),r=e&&e.length&&e[e.length-1].auctionId;return e.map((function(e){return e.adUnitCode})).filter(a.uniques).map((function(t){return e.filter((function(e){return e.auctionId===r&&e.adUnitCode===t}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},r=e[0].adUnitCode,i={bids:e.map(a.removeRequestId)},r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t;var t,r,i})).reduce((function(e,t){return o(e,t)}),{})},m.getBidResponsesForAdUnitCode=function(t){return{bids:c.auctionManager.getBidsReceived().filter((function(e){return e.adUnitCode===t})).map(a.removeRequestId)}},m.setTargetingForGPTAsync=function(e,t){if(E.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,a.isGptPubadsDefined)()){var r=h.targeting.getAllTargeting(e);h.targeting.resetPresetTargeting(e),h.targeting.setTargetingForGPT(r,t),Object.keys(r).forEach((function(t){Object.keys(r[t]).forEach((function(e){"hb_adid"===e&&c.auctionManager.setStatusForBids(r[t][e],h.BID_TARGETING_SET)}))})),S.emit(O,r)}else E.logError("window.googletag is not defined on the page")},m.setTargetingForAst=function(){E.logInfo("Invoking pbjs.setTargetingForAn",arguments),h.targeting.isApntagDefined()?(h.targeting.setTargetingForAst(),S.emit(O,h.targeting.getAllTargeting())):E.logError("window.apntag is not defined on the page")},m.renderAd=function(e,t){if(E.logInfo("Invoking pbjs.renderAd",arguments),E.logMessage("Calling renderAd with adId :"+t),e&&t)try{var r=c.auctionManager.findBidByAdId(t);if(r){r.status=h.RENDERED,r.ad=E.replaceAuctionPrice(r.ad,r.cpm),r.adUrl=E.replaceAuctionPrice(r.adUrl,r.cpm),c.auctionManager.addWinningBid(r),S.emit(R,r);var i=r.height,n=r.width,o=r.ad,s=r.mediaType,a=r.adUrl,u=r.renderer,f=document.createComment("Creative "+r.creativeId+" served by "+r.bidder+" Prebid.js Header Bidding");if(E.insertElement(f,e,"body"),u&&u.url)u.render(r);else if(e===document&&!E.inIframe()||"video"===s){D(C,"Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document.",r)}else if(o)e.write(o),e.close(),M(e,n,i),E.callBurl(r);else if(a){var l=E.createInvisibleIframe();l.height=i,l.width=n,l.style.display="inline",l.style.overflow="hidden",l.src=a,E.insertElement(l,e,"body"),M(e,n,i),E.callBurl(r)}else{D(U,"Error trying to write ad. No ad for bid response id: "+t,r)}}else{D(x,"Error trying to write ad. Cannot find ad by given id : "+t)}}catch(e){var d="Error trying to write ad Id :"+t+" to the page:"+e.message;D(k,d)}else D(L,"Error trying to write ad Id :"+t+" to the page. Missing document or adId")},m.removeAdUnit=function(e){if(E.logInfo("Invoking pbjs.removeAdUnit",arguments),e)for(var t=0;t<m.adUnits.length;t++)m.adUnits[t].code===e&&m.adUnits.splice(t,1)},m.requestBids=(0,g.createHook)("asyncSeries",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,i=e.adUnits,n=e.adUnitCodes,o=e.labels;S.emit(P);var s=r||d.config.getConfig("bidderTimeout");if(i=i||m.adUnits,E.logInfo("Invoking pbjs.requestBids",arguments),n&&n.length?i=i.filter((function(e){return(0,v.default)(n,e.code)})):n=i&&i.map((function(e){return e.code})),i.forEach((function(n){var o=Object.keys(n.mediaTypes||{banner:"banner"}),e=n.bids.map((function(e){return e.bidder})),s=w.bidderRegistry,t=d.config.getConfig("s2sConfig"),r=t&&t.bidders,i=r?e.filter((function(e){return!(0,v.default)(r,e)})):e;n.transactionId||(n.transactionId=E.generateUUID()),i.forEach((function(t){var e=s[t],r=e&&e.getSpec&&e.getSpec(),i=r&&r.supportedMediaTypes||["banner"];o.some((function(e){return(0,v.default)(i,e)}))||(E.logWarn(E.unsupportedBidderMessage(n,t)),n.bids=n.bids.filter((function(e){return e.bidder!==t})))}))})),i&&0!==i.length){var a=c.auctionManager.createAuction({adUnits:i,adUnitCodes:n,callback:t,cbTimeout:s,labels:o});return a.callBids(),a}if(E.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){E.logError("Error executing bidsBackHandler",null,e)}})),m.addAdUnits=function(e){E.logInfo("Invoking pbjs.addAdUnits",arguments),E.isArray(e)?m.adUnits.push.apply(m.adUnits,e):"object"===(void 0===e?"undefined":n(e))&&m.adUnits.push(e),S.emit(_)},m.onEvent=function(e,t,r){E.logInfo("Invoking pbjs.onEvent",arguments),E.isFn(t)?!r||j[e].call(null,r)?S.on(e,t,r):E.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):E.logError('The event handler provided is not a function and was not set on event "'+e+'".')},m.offEvent=function(e,t,r){E.logInfo("Invoking pbjs.offEvent",arguments),r&&!j[e].call(null,r)||S.off(e,t,r)},m.registerBidAdapter=function(e,t){E.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{w.registerBidAdapter(e(),t)}catch(e){E.logError("Error registering bidder adapter : "+e.message)}},m.registerAnalyticsAdapter=function(e){E.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{w.registerAnalyticsAdapter(e)}catch(e){E.logError("Error registering analytics adapter : "+e.message)}},m.createBid=function(e){return E.logInfo("Invoking pbjs.createBid",arguments),T.createBid(e)},m.loadScript=function(e,t,r){E.logInfo("Invoking pbjs.loadScript",arguments),(0,l.loadScript)(e,t,r)},m.enableAnalytics=function(e){e&&!E.isEmpty(e)?(E.logInfo("Invoking pbjs.enableAnalytics for: ",e),w.enableAnalytics(e)):E.logError("pbjs.enableAnalytics should be called with option {}")},m.aliasBidder=function(e,t){E.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?w.aliasBidAdapter(e,t):E.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},m.getAllWinningBids=function(){return c.auctionManager.getAllWinningBids().map(a.removeRequestId)},m.getAllPrebidWinningBids=function(){return c.auctionManager.getBidsReceived().filter((function(e){return e.status===h.BID_TARGETING_SET})).map(a.removeRequestId)},m.getHighestCpmBids=function(e){var t=(0,h.getHighestCpmBidsFromBidPool)(c.auctionManager.getBidsReceived(),a.getLatestHighestCpmBid);return h.targeting.getWinningBids(e,t).map(a.removeRequestId)},m.getConfig=d.config.getConfig,m.setConfig=d.config.setConfig,m.que.push((function(){return(0,u.listenMessagesFromCreative)()})),m.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){E.logError("Error processing command :",e.message,e.stack)}else E.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},m.que.push=m.cmd.push,m.processQueue=function(){V(m.que),V(m.cmd)}},51:function(e,t,r){var i=r(17),n=r(20).document,o=i(n)&&i(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},510:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){addEventListener("message",o,!1)};var v=n(r(9)),m=r(18),i=r(4),b=r(0),E=r(31),w=n(r(10));function n(e){return e&&e.__esModule?e:{default:e}}var T=i.EVENTS.BID_WON;function o(e){var t,r,i,n,o,s,a,u,f,l,d,c,h,g=e.message?"message":"data",p={};try{p=JSON.parse(e[g])}catch(e){return}if(p.adId){var y=(0,w.default)(E.auctionManager.getBidsReceived(),(function(e){return e.adId===p.adId}));"Prebid Request"===p.message&&(t=y,r=p.adServerDomain,i=e.source,n=t.adId,o=t.ad,s=t.adUrl,a=t.width,u=t.height,n&&(l=(f=t).adUnitCode,d=f.width,c=f.height,(h=document.getElementById((0,w.default)(window.googletag.pubads().getSlots().filter((0,b.isSlotMatchingAdUnitCode)(l)),(function(e){return e})).getSlotElementId()).querySelector("iframe")).width=""+d,h.height=""+c,i.postMessage(JSON.stringify({message:"Prebid Response",ad:o,adUrl:s,adId:n,width:a,height:u}),r)),E.auctionManager.addWinningBid(y),v.default.emit(T,y)),"Prebid Native"===p.message&&((0,m.fireNativeTrackers)(p,y),E.auctionManager.addWinningBid(y),v.default.emit(T,y))}}},511:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boundHook=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};r.disableOverrides=d,r.addBidResponseHook=c,r.getConfig=h,r.sessionLoader=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.sessionStorage,t=void 0;try{t=JSON.parse(e.getItem(a))}catch(e){}t&&l(t,!0)};var i=t(2),s=t(0),n=t(42),a="pbjs:debugging",u=r.boundHook=void 0;function f(e){(0,s.logMessage)("DEBUG: "+e)}function l(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];i.config.setConfig({debug:!0}),f("bidder overrides enabled"+(t?" from session":"")),u&&n.addBidResponse.removeHook(u),r.boundHook=u=c.bind(null,e),n.addBidResponse.addHook(u,5)}function d(){u&&(n.addBidResponse.removeHook(u),f("bidder overrides disabled"))}function c(e,i,n,t){if(Array.isArray(e.bidders)&&-1===e.bidders.indexOf(n.bidderCode))return r="bidder '"+n.bidderCode+"' excluded from auction by bidder overrides",void(0,s.logWarn)("DEBUG: "+r);var r;Array.isArray(e.bids)&&e.bids.forEach((function(r){r.bidder&&r.bidder!==n.bidderCode||r.adUnitCode&&r.adUnitCode!==i||(n=o({},n),Object.keys(r).filter((function(e){return-1===["bidder","adUnitCode"].indexOf(e)})).forEach((function(e){var t=r[e];f("bidder overrides changed '"+i+"/"+n.bidderCode+"' bid."+e+" from '"+n[e]+"' to '"+t+"'"),n[e]=t})))})),t(i,n)}function h(e){if(e.enabled){try{window.sessionStorage.setItem(a,JSON.stringify(e))}catch(e){}l(e)}else{d();try{window.sessionStorage.removeItem(a)}catch(e){}}}i.config.getConfig("debugging",(function(e){return h(e.debugging)}))},52:function(e,t,r){var n=r(17);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},53:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},54:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},55:function(e,t,r){var i=r(27);e.exports=function(e){return Object(i(e))}},56:function(e,t,r){var i=r(57);e.exports=function(e,t){return new(i(e))(t)}},57:function(e,t,r){var i=r(17),n=r(39),o=r(28)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},58:function(e,t,r){var i=r(14),n=r(20),o="__core-js_shared__",s=n[o]||(n[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:r(59)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},59:function(e,t){e.exports=!0},6:function(e,t,r){r(61),e.exports=r(14).Array.includes},60:function(e,t){var r=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},61:function(e,t,r){"use strict";var i=r(16),n=r(62)(!0);i(i.P,"Array",{includes:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),r(29)("includes")},62:function(e,t,r){var u=r(63),f=r(37),l=r(64);e.exports=function(a){return function(e,t,r){var i,n=u(e),o=f(n.length),s=l(r,o);if(a&&t!=t){for(;s<o;)if((i=n[s++])!=i)return!0}else for(;s<o;s++)if((a||s in n)&&n[s]===t)return a||s||0;return!a&&-1}}},63:function(e,t,r){var i=r(36),n=r(27);e.exports=function(e){return i(n(e))}},64:function(e,t,r){var i=r(38),n=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?n(e+t,0):o(e,t)}},65:function(e,t){e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var i in t){var n=t[i];r[i]=n&&"object"==typeof n?e(n):n}return r}},66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.setSizeConfig=s,t.resolveStatus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,r=void 0===t?[]:t,i=e.labelAll,n=void 0!==i&&i,o=e.activeLabels,s=void 0===o?[]:o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],u=(l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:g,l.reduce((function(r,e){return"object"===(void 0===e?"undefined":d(e))&&"string"==typeof e.mediaQuery?matchMedia(e.mediaQuery).matches&&(Array.isArray(e.sizesSupported)&&(r.shouldFilter=!0),["labels","sizesSupported"].forEach((function(t){return(e[t]||[]).forEach((function(e){return r[t][e]=!0}))}))):(0,c.logWarn)('sizeConfig rule missing required property "mediaQuery"'),r}),{labels:{},sizesSupported:{},shouldFilter:!1})),f=void 0;var l;f=u.shouldFilter?a.filter((function(e){return u.sizesSupported[e]})):a;return{active:0<f.length&&(0===r.length||!n&&(r.some((function(e){return u.labels[e]}))||r.some((function(e){return(0,h.default)(s,e)})))||n&&r.reduce((function(e,t){return e?u.labels[t]||(0,h.default)(s,t):e}),!0)),sizes:f}};var i,n=r(2),c=r(0),o=r(6),h=(i=o)&&i.__esModule?i:{default:i};var g=[];function s(e){g=e}n.config.getConfig("sizeConfig",(function(e){return s(e.sizeConfig)}))},67:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonVideoBidder=t.videoBidder=t.videoAdUnit=void 0,t.isValidVideoBid=function(e,t){var r=(0,o.getBidRequest)(e.adId,t),i=r&&(0,o.deepAccess)(r,"mediaTypes.video"),n=i&&(0,o.deepAccess)(i,"context");if(!r||i&&n!==f)return s.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,o.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1);if(n===f)return!(!e.renderer&&!r.renderer);return!0};var i,n=r(8),o=r(0),s=r(2),a=r(6),u=(i=a)&&i.__esModule?i:{default:i};var f="outstream",l=(t.videoAdUnit=function(e){var t="video"===e.mediaType,r=(0,o.deepAccess)(e,"mediaTypes.video");return t||r},t.videoBidder=function(e){return(0,u.default)(n.videoAdapters,e.bidder)});t.hasNonVideoBidder=function(e){return e.bids.filter((function(e){return!l(e)})).length}},7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajax=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.ajaxBuilder=i;var g=r(12),p=r(0),y=4;t.ajax=i();function i(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.request,d=e.done;return function(e,t,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var n=void 0,o=i.method||(r?"POST":"GET"),s=document.createElement("a");s.href=e;var a="object"===(void 0===t?"undefined":h(t))&&null!==t?t:{success:function(){p.logMessage("xhr success")},error:function(e){p.logError("xhr error",null,e)}};if("function"==typeof t&&(a.success=t),(n=new window.XMLHttpRequest).onreadystatechange=function(){if(n.readyState===y){"function"==typeof d&&d(s.origin);var e=n.status;200<=e&&e<300||304===e?a.success(n.responseText,n):a.error(n.statusText,n)}},n.ontimeout=function(){p.logError("  xhr timeout after ",n.timeout,"ms")},"GET"===o&&r){var u=(0,g.parse)(e,i);c(u.search,r),e=(0,g.format)(u)}n.open(o,e),n.timeout=f,i.withCredentials&&(n.withCredentials=!0),p._each(i.customHeaders,(function(e,t){n.setRequestHeader(t,e)})),i.preflight&&n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type",i.contentType||"text/plain"),"function"==typeof l&&l(s.origin),"POST"===o&&r?n.send(r):n.send()}catch(e){p.logError("xhr construction",e)}}}},8:function(e,m,t){"use strict";var v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},b=t(0),c=t(66),h=t(18),l=t(1),E=t(7),w=t(2),T=r(t(6)),S=r(t(10));function r(e){return e&&e.__esModule?e:{default:e}}var I=t(0),A=t(4),_=t(9),R=void 0,P={};m.bidderRegistry=P,m.aliasRegistry={};var O={};w.config.getConfig("s2sConfig",(function(e){O=e.s2sConfig}));var i={};function g(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function N(e){var i=e.bidderCode,u=e.auctionId,f=e.bidderRequestId,t=e.adUnits,l=e.labels;return t.reduce((function(e,s){var t=(0,c.resolveStatus)(g(s,l),s.sizes),r=t.active,a=t.sizes;return r&&e.push(s.bids.filter((function(e){return e.bidder===i})).reduce((function(e,t){s.mediaTypes&&(I.isValidMediaTypes(s.mediaTypes)?t=d({},t,{mediaTypes:s.mediaTypes}):I.logError("mediaTypes is not correctly configured for adunit "+s.code));var r=s.nativeParams||I.deepAccess(s,"mediaTypes.native");r&&(t=d({},t,{nativeParams:(0,h.processNativeAdUnitParams)(r)})),t=d({},t,(0,b.getDefinedParams)(s,["mediaType","renderer"]));var i=(0,c.resolveStatus)(g(t,l),a),n=i.active,o=i.sizes;return n&&e.push(d({},t,{adUnitCode:s.code,transactionId:s.transactionId,sizes:o,bidId:t.bid_id||I.getUniqueIdentifierStr(),bidderRequestId:f,auctionId:u})),e}),[])),e}),[]).reduce(b.flatten,[]).filter((function(e){return""!==e}))}function B(){return O&&O.enabled&&O.testing&&R}m.gdprDataHandler={consentData:null,setConsentData:function(e){this.consentData=e},getConsentData:function(){return this.consentData}},m.makeBidRequests=function(e,i,n,o,s){var a=[];e=m.checkBidRequestSizes(e);var t=(0,b.getBidderCodes)(e);w.config.getConfig("bidderSequence")===w.RANDOM&&(t=(0,b.shuffle)(t));var r,u,f,l=t,d=[];if(O.enabled){B()&&(d=R.getSourceBidderMap(e)[R.CLIENT]);var c=O.bidders;l=t.filter((function(e){return!(0,T.default)(c,e)||(0,T.default)(d,e)}));var h=(r=e,u=O.bidders,(f=I.deepClone(r)).forEach((function(e){e.bids=e.bids.filter((function(e){return(0,T.default)(u,e.bidder)&&(!B()||e.finalSource!==R.CLIENT)})).map((function(e){return e.bid_id=I.getUniqueIdentifierStr(),e}))})),f=f.filter((function(e){return 0!==e.bids.length}))),g=I.generateUUID();c.forEach((function(e){var t=I.getUniqueIdentifierStr(),r={bidderCode:e,auctionId:n,bidderRequestId:t,tid:g,adUnitsS2SCopy:h,bids:N({bidderCode:e,auctionId:n,bidderRequestId:t,adUnits:h,labels:s}),auctionStart:i,timeout:O.timeout,src:A.S2S.SRC};0!==r.bids.length&&a.push(r)}))}var p,y,v=(p=e,(y=I.deepClone(p)).forEach((function(e){e.bids=e.bids.filter((function(e){return!B()||e.finalSource!==R.SERVER}))})),y=y.filter((function(e){return 0!==e.bids.length})));return l.forEach((function(e){var t=I.getUniqueIdentifierStr(),r={bidderCode:e,auctionId:n,bidderRequestId:t,bids:N({bidderCode:e,auctionId:n,bidderRequestId:t,adUnits:v,labels:s}),auctionStart:i,timeout:o};r.bids&&0!==r.bids.length&&a.push(r)})),m.gdprDataHandler.getConsentData()&&a.forEach((function(e){e.gdprConsent=m.gdprDataHandler.getConsentData()})),a},m.checkBidRequestSizes=function(e){function s(e){return Array.isArray(e)&&2===e.length&&I.isInteger(e[0])&&I.isInteger(e[1])}return e.forEach((function(e){e.sizes&&I.logWarn("Usage of adUnits.sizes will eventually be deprecated.  Please define size dimensions within the corresponding area of the mediaTypes.<object> (eg mediaTypes.banner.sizes).");var t=e.mediaTypes;if(t&&t.banner){var r=t.banner;r.sizes?e.sizes=r.sizes:(I.logError("Detected a mediaTypes.banner object did not include sizes.  This is a required field for the mediaTypes.banner object.  Removing invalid mediaTypes.banner object from request."),delete e.mediaTypes.banner)}if(t&&t.video){var i=t.video;if(i.playerSize)if(Array.isArray(i.playerSize)&&1===i.playerSize.length&&i.playerSize.every(s))e.sizes=i.playerSize;else if(s(i.playerSize)){var n=[];n.push(i.playerSize),I.logInfo("Transforming video.playerSize from "+i.playerSize+" to "+n+" so it's in the proper format."),e.sizes=i.playerSize=n}else I.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete e.mediaTypes.video.playerSize}if(t&&t.native){var o=t.native;o.image&&o.image.sizes&&!Array.isArray(o.image.sizes)&&(I.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete e.mediaTypes.native.image.sizes),o.image&&o.image.aspect_ratios&&!Array.isArray(o.image.aspect_ratios)&&(I.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete e.mediaTypes.native.image.aspect_ratios),o.icon&&o.icon.sizes&&!Array.isArray(o.icon.sizes)&&(I.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete e.mediaTypes.native.icon.sizes)}})),e},m.callBids=function(e,t,n,o,s){if(t.length){var r=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===A.S2S.SRC)].push(t),e}),[[],[]]),i=v(r,2),a=i[0],u=i[1];if(u.length){var f=(0,E.ajaxBuilder)(u[0].timeout,s?{request:s.request.bind(null,"s2s"),done:s.done}:void 0),l=O.bidders,d=P[O.adapter],c=u[0].tid,h=u[0].adUnitsS2SCopy;if(h.forEach((function(r){var e=r.bids.filter((function(t){return(0,S.default)(u,(function(e){return e.bidderCode===t.bidder&&(0,S.default)(e.bids,(function(e){return e.adUnitCode===r.code}))}))}));r.bids=e})),h=h.filter((function(e){return 0<e.bids.length})),d){var g={tid:c,ad_units:h};if(g.ad_units.length){var p=u.map((function(e){return e.start=(0,b.timestamp)(),e.doneCbCallCount=0,o(e.bidderRequestId)})),y=g.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]);I.logMessage("CALLING S2S HEADER BIDDERS ==== "+l.filter((function(e){return(0,T.default)(y,e)})).join(",")),u.forEach((function(e){_.emit(A.EVENTS.BID_REQUESTED,e)})),d.callBids(g,u,n,(function(){return p.forEach((function(e){return e()}))}),f)}}}a.forEach((function(e){e.start=(0,b.timestamp)();var t=P[e.bidderCode];if(t){I.logMessage("CALLING BIDDER ======= "+e.bidderCode),_.emit(A.EVENTS.BID_REQUESTED,e),e.doneCbCallCount=0;var r=o(e.bidderRequestId),i=(0,E.ajaxBuilder)(a[0].timeout,s?{request:s.request.bind(null,e.bidderCode),done:s.done}:void 0);t.callBids(e,n,r,i)}else I.logError("Adapter trying to be called which does not exist: "+e.bidderCode+" adaptermanager.callBids")}))}else I.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},m.videoAdapters=[],m.registerBidAdapter=function(e,t){var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,i=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(P[t]=e,(0,T.default)(i,"video")&&m.videoAdapters.push(t),(0,T.default)(i,"native")&&h.nativeAdapters.push(t)):I.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):I.logError("bidAdaptor or bidderCode not specified")},m.aliasBidAdapter=function(t,e){var r,i;if(void 0===P[e]){var n=P[t];if(void 0===n){var o=w.config.getConfig("s2sConfig"),s=o&&o.bidders;s&&(0,T.default)(s,e)?m.aliasRegistry[e]=t:I.logError('bidderCode "'+t+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter")}else try{var a=void 0,u=(r=t,i=[],(0,T.default)(m.videoAdapters,r)&&i.push("video"),(0,T.default)(h.nativeAdapters,r)&&i.push("native"),i);if(n.constructor.prototype!=Object.prototype)(a=new n.constructor).setBidderCode(e);else{var f=n.getSpec();a=(0,l.newBidder)(d({},f,{code:e})),m.aliasRegistry[e]=t}this.registerBidAdapter(a,e,{supportedMediaTypes:u})}catch(e){I.logError(t+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else I.logMessage('alias name "'+e+'" has been already specified.')},m.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,i[r]=t):I.logError('Prebid Error: Analytics adaptor error for analytics "'+r+'"\n        analytics adapter must implement an enableAnalytics() function'):I.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},m.enableAnalytics=function(e){I.isArray(e)||(e=[e]),I._each(e,(function(e){var t=i[e.provider];t?t.enableAnalytics(e):I.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")}))},m.getBidAdapter=function(e){return P[e]},m.setS2STestingModule=function(e){R=e},m.callTimedOutBidders=function(t,r,i){r=r.map((function(e){return e.params=I.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=i,e})),r=I.groupBy(r,"bidder"),Object.keys(r).forEach((function(t){try{var e=P[t].getSpec();e&&e.onTimeout&&"function"==typeof e.onTimeout&&(I.logInfo("Invoking "+t+".onTimeout"),e.onTimeout(r[t]))}catch(e){I.logWarn("Error calling onTimeout of "+t)}}))}},9:function(e,t,r){"use strict";var a,i,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},u=r(0),o=r(4),s=Array.prototype.slice,f=Array.prototype.push,l=u._map(o.EVENTS,(function(e){return e})),d=o.EVENT_ID_PATHS,c=[];e.exports=(a={},(i={}).on=function(e,t,r){if(n=e,u.contains(l,n)){var i=a[e]||{que:[]};r?(i[r]=i[r]||{que:[]},i[r].que.push(t)):i.que.push(t),a[e]=i}else u.logError("Wrong event name : "+e+" Valid event names :"+l);var n},i.emit=function(e){!(function(e,t){u.logMessage("Emitting event for: "+e);var r=t[0]||{},i=r[d[e]],n=a[e]||{que:[]},o=u._map(n,(function(e,t){return t})),s=[];c.push({eventType:e,args:r,id:i}),i&&u.contains(o,i)&&f.apply(s,n[i].que),f.apply(s,n.que),u._each(s,(function(e){if(e)try{e.apply(null,t)}catch(e){u.logError("Error executing handler:","events.js",e)}}))})(e,s.call(arguments,1))},i.off=function(e,r,i){var n=a[e];u.isEmpty(n)||u.isEmpty(n.que)&&u.isEmpty(n[i])||i&&(u.isEmpty(n[i])||u.isEmpty(n[i].que))||(i?u._each(n[i].que,(function(e){var t=n[i].que;e===r&&t.splice(u.indexOf.call(t,e),1)})):u._each(n.que,(function(e){var t=n.que;e===r&&t.splice(u.indexOf.call(t,e),1)})),a[e]=n)},i.get=function(){return a},i.getEvents=function(){var r=[];return u._each(c,(function(e){var t=n({},e);r.push(t)})),r},i)}});
pbjsChunk([120],{122:function(e,r,t){t(123),e.exports=t(124)},123:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=l(["//","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""],["//","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]),a=l(["//","/bidRequest?"],["//","/bidRequest?"]),o=l(["dcn=","&pos=","&cmd=bid",""],["dcn=","&pos=","&cmd=bid",""]),s=(function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}})(t(0)),d=t(1),c=t(2),u=t(4),p=t(3);function l(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var m={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},b={GET:"display-get"},f={GET:"mobile-get",POST:"mobile-post"},v={TAG:"iframe",TYPE:"iframe"},h={TAG:"img",TYPE:"image"},g=T(i,"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),O=T(a,"host"),y=T(o,"dcn","pos","dynamicParams"),E={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};pbjs.aolGlobals={pixelsDropped:!1};var P,x=1,S=(P=!0,function(){var e=pbjs.bidderSettings;P&&e&&e.aol&&"function"==typeof e.aol.bidCpmAdjustment&&(s.logWarn("bidCpmAdjustment is active for the AOL adapter. As of Prebid 0.14, AOL can bid in net â€“ please contact your accounts team to enable."),P=!1)});function T(o){for(var e=arguments.length,t=Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i[i.length-1]||{},a=[o[0]];return t.forEach((function(e,r){var t=s.isInteger(e)?i[e]:n[e];a.push(t,o[r+1])})),a.join("")}}function A(e){return e===m.AOL||e===m.ONEMOBILE}function I(e){if(A(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var r=e.params.imp[0];return r.id&&r.tagid&&(r.banner&&r.banner.w&&r.banner.h||r.video&&r.video.mimes&&r.video.minduration&&r.video.maxduration)}}function D(e){return A(e.bidder)&&e.params.dcn&&e.params.pos}function R(e){return((r=e.bidder)===m.AOL||r===m.ONEDISPLAY)&&e.params.placement&&e.params.network;var r}var w=r.spec={code:m.AOL,aliases:[m.ONEMOBILE,m.ONEDISPLAY],supportedMediaTypes:[p.BANNER],isBidRequestValid:function(e){return R(e)||(D(r=e)||I(r));var r},buildRequests:function(e,r){var i=this,n=r?r.gdprConsent:null;return e.map((function(e){var r,t=D(r=e)?f.GET:I(r)?f.POST:R(r)?b.GET:void 0;if(t)return i.formatBidRequest(t,e,n)}))},interpretResponse:function(e,r){var t=e.body;if(S(),t){var i=this._parseBidResponse(t,r);if(i)return i}else s.logError("Empty bid response",r.bidderCode,t)},getUserSyncs:function(e,r){var t=r[0];return c.config.getConfig("aol.userSyncOn")===u.EVENTS.BID_RESPONSE&&!pbjs.aolGlobals.pixelsDropped&&t&&t.ext&&t.ext.pixels?(pbjs.aolGlobals.pixelsDropped=!0,(function(e){var i=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,a=[];if(e){var r=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);r&&r.forEach((function(e){var r=e.match(i)[0],t=e.match(n)[2];r&&r&&a.push({type:r===h.TAG?h.TYPE:v.TYPE,url:t})}))}return a})(t.ext.pixels)):[]},formatBidRequest:function(e,r,t){var i=void 0;switch(e){case b.GET:i={url:this.buildMarketplaceUrl(r,t),method:"GET",ttl:60};break;case f.GET:i={url:this.buildOneMobileGetUrl(r,t),method:"GET",ttl:3600};break;case f.POST:i={url:this.buildOneMobileBaseUrl(r),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(r,t),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return i.bidderCode=r.bidder,i.bidId=r.bidId,i.userSyncOn=r.params.userSyncOn,i},buildMarketplaceUrl:function(e,r){var t=e.params,i=t.server,n=t.region||"us",a=void 0;return E.hasOwnProperty(n)||(s.logWarn("Unknown region '"+n+"' for AOL bidder."),n="us"),a=i||E[n],t.region=n,g({host:a,network:t.network,placement:parseInt(t.placement),pageid:t.pageId||0,sizeid:t.sizeId||0,alias:t.alias||s.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(t,r)})},buildOneMobileGetUrl:function(e,r){var t=e.params,i=t.dcn,n=t.pos,a=t.ext,o=this.buildOneMobileBaseUrl(e);if(i&&n){var s=this.formatOneMobileDynamicParams(a,r);o+=y({dcn:i,pos:n,dynamicParams:s})}return o},buildOneMobileBaseUrl:function(e){return O({host:e.params.host||"hb.nexage.com"})},formatMarketplaceDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],t={};e.bidFloor&&(t.bidfloor=e.bidFloor),n(t,this.formatKeyValues(e.keyValues)),n(t,this.formatConsentData(r));var i="";return s._each(t,(function(e,r){i+=r+"="+encodeURIComponent(e)+";"})),i},formatOneMobileDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];this.isSecureProtocol()&&(e.secure=x),n(e,this.formatConsentData(r));var t="";return s._each(e,(function(e,r){t+="&"+r+"="+encodeURIComponent(e)})),t},buildOpenRtbRequestData:function(e,r){var t={id:e.params.id,imp:e.params.imp};return this.isConsentRequired(r)&&(t.regs={ext:{gdpr:x}},r.consentString&&(t.user={ext:{consent:r.consentString}})),t},isConsentRequired:function(e){return!(!e||!e.gdprApplies)},formatKeyValues:function(e){var t={};return s._each(e,(function(e,r){t["kv"+r]=e})),t},formatConsentData:function(e){var r={};return this.isConsentRequired(e)&&(r.gdpr=x,e.consentString&&(r.euconsent=e.consentString)),r},_parseBidResponse:function(e,r){var t=void 0;try{t=e.seatbid[0].bid[0]}catch(e){return}var i=void 0;if(t.ext&&t.ext.encp)i=t.ext.encp;else if(null===(i=t.price)||isNaN(i))return void s.logError("Invalid price in bid response",m.AOL,bid);var n={bidderCode:r.bidderCode,requestId:r.bidId,ad:t.adm,cpm:i,width:t.w,height:t.h,creativeId:t.crid,pubapiId:e.id,currency:e.cur,dealId:t.dealid,netRevenue:!0,ttl:r.ttl};return e.ext&&e.ext.pixels&&c.config.getConfig("aol.userSyncOn")!==u.EVENTS.BID_RESPONSE&&(n.ad+=this.formatPixels(e.ext.pixels)),n},formatPixels:function(e){return"<script>var w=window,prebid;for(var i=0;i<10;i++){w = w.parent;prebid=w.pbjs;if(prebid && prebid.aolGlobals && !prebid.aolGlobals.pixelsDropped){try{prebid.aolGlobals.pixelsDropped=true;"+e.replace(/<\/?script( type=('|")text\/javascript('|")|)?>/g,"")+"break;}catch(e){continue;}}}<\/script>"},isOneMobileBidder:A,isSecureProtocol:function(){return"https:"===document.location.protocol}};(0,d.registerBidder)(w)},124:function(e,r){}},[122]);
pbjsChunk([119],{125:function(e,n,t){e.exports=t(126)},126:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=u(t(5)),a=u(t(8));function u(e){return e&&e.__esModule?e:{default:e}}var o=(0,r.default)({global:"AppNexusPrebidAnalytics",handler:"on",analyticsType:"bundle"});a.default.registerAnalyticsAdapter({adapter:o,code:"appnexus"}),n.default=o},5:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e){var a,u=e.url,n=e.analyticsType,o=e.global,r=e.handler,i=[],l=0,t=!0;n===q&&(0,y.loadScript)(u,f);(n===M||O)&&f();return{track:function(e){var n=e.eventType,t=e.args;(this.getAdapterType()===q||O)&&window[o](r,n,t);this.getAdapterType()===M&&function(e){var n=e.eventType,t=e.args,r=e.callback;(0,d.ajax)(u,r,JSON.stringify({eventType:n,args:t}))}.apply(void 0,arguments)},enqueue:s,enableAnalytics:c,disableAnalytics:function(){b._each(a,(function(e,n){v.off(n,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:c},getAdapterType:function(){return n},getGlobal:function(){return o},getHandler:function(){return r},getUrl:function(){return u}};function s(e){var n=e.eventType,t=e.args,r=this;o&&window[o]&&n&&t?this.track({eventType:n,args:t}):i.push((function(){l++,r.track({eventType:n,args:t})}))}function c(n){var e,t=this,r=this;"object"!==(void 0===n?"undefined":p(n))||"object"!==p(n.options)||(void 0===n.options.sampling||Math.random()<parseFloat(n.options.sampling))?(v.getEvents().forEach((function(e){if(e){var n=e.eventType,t=e.args;n!==E&&s.call(r,{eventType:n,args:t})}})),g(e={},h,(function(e){return t.enqueue({eventType:h,args:e})})),g(e,A,(function(e){return t.enqueue({eventType:A,args:e})})),g(e,E,(function(e){return t.enqueue({eventType:E,args:e})})),g(e,D,(function(e){return t.enqueue({eventType:D,args:e})})),g(e,I,(function(e){return t.enqueue({eventType:I,args:e})})),g(e,N,(function(e){return t.enqueue({eventType:N,args:e})})),g(e,S,(function(e){return t.enqueue({eventType:S,args:e})})),g(e,_,(function(e){return t.enqueue({eventType:_,args:e})})),g(e,m,(function(e){return t.enqueue({eventType:m,args:e})})),g(e,T,(function(e){e.config="object"===(void 0===n?"undefined":p(n))&&n.options||{},t.enqueue({eventType:T,args:e})})),a=e,b._each(a,(function(e,n){v.on(n,e)}))):b.logMessage('Analytics adapter for "'+o+'" disabled by sampling');this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return b.logMessage('Analytics adapter for "'+o+'" already enabled, unnecessary call to `enableAnalytics`.')}}function f(){if(t){for(var e=0;e<i.length;e++)i[e]();i.push=function(e){e()},t=!1}b.logMessage("event count sent to "+o+": "+l)}};var r,a=t(4),u=(r=a)&&r.__esModule?r:{default:r},y=t(11),d=t(7);function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=t(9),b=t(0),o=u.default.EVENTS,T=o.AUCTION_INIT,_=o.AUCTION_END,h=o.BID_REQUESTED,E=o.BID_TIMEOUT,A=o.BID_RESPONSE,D=o.BID_WON,I=o.BID_ADJUSTMENT,N=o.BIDDER_DONE,S=o.SET_TARGETING,m=o.AD_RENDER_FAILED,q="library",M="endpoint",O="bundle"}},[125]);
pbjsChunk([118],{127:function(e,r,a){a(128),e.exports=a(129)},128:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},p=a(13),u=(function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r.default=e,r}})(a(0)),t=a(1),m=a(3),c=s(a(10)),l=s(a(6));function s(e){return e&&e.__esModule?e:{default:e}}var f=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],y=["age","external_uid","segments","gender","dnt","language"],v={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},n=r.spec={code:"appnexus",aliases:["appnexusAst","brealtime","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm"],supportedMediaTypes:[m.BANNER,m.VIDEO,m.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,r){var a=e.map(b),t=(0,c.default)(e,h),s=void 0;t&&(s={},Object.keys(t.params.user).filter((function(e){return(0,l.default)(y,e)})).forEach((function(e){return s[e]=t.params.user[e]})));var i=(0,c.default)(e,_),n=i?parseInt(i.params.member,10):0,d={tags:[].concat(function(e){if(Array.isArray(e)){for(var r=0,a=Array(e.length);r<e.length;r++)a[r]=e[r];return a}return Array.from(e)}(a)),user:s,sdk:{source:"pbjs",version:"1.15.0"}};return 0<n&&(d.member_id=n),r&&r.gdprConsent&&(d.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),{method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(d),bidderRequest:r}},interpretResponse:function(e,r){var i=this,n=r.bidderRequest;e=e.body;var d=[];if(!e||e.error){var a="in response for "+n.bidderCode+" adapter";return e&&e.error&&(a+=": "+e.error),u.logError(a),d}return e.tags&&e.tags.forEach((function(e){var r,a,t=(r=e)&&r.ads&&r.ads.length&&(0,c.default)(r.ads,(function(e){return e.rtb}));if(t&&0!==t.cpm&&(0,l.default)(i.supportedMediaTypes,t.ad_type)){var s=(function(e,r,a){var t={requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:r.buyer_member_id}};if(r.rtb.video){if(o(t,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastUrl:r.rtb.video.asset_url,vastImpUrl:r.notify_url,ttl:3600}),r.renderer_url){var s=u.deepAccess(a.bids[0],"renderer.options");o(t,{adResponse:e,renderer:(function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=p.Renderer.install({id:r.renderer_id,url:r.renderer_url,config:a,loaded:!1});try{t.setRender(I)}catch(e){u.logWarn("Prebid Error calling setRender on renderer",e)}return t.setEventHandlers({impression:function(){return u.logMessage("AppNexus outstream video impression event")},loaded:function(){return u.logMessage("AppNexus outstream video loaded event")},ended:function(){u.logMessage("AppNexus outstream renderer video event"),document.querySelector("#"+e).style.display="none"}}),t})(t.adUnitCode,r,s)}),t.adResponse.ad=t.adResponse.ads[0],t.adResponse.ad.video=t.adResponse.ad.rtb.video}}else if(r.rtb[m.NATIVE]){var i=r.rtb[m.NATIVE];t[m.NATIVE]={title:i.title,body:i.desc,cta:i.ctatext,sponsoredBy:i.sponsored,clickUrl:i.link.url,clickTrackers:i.link.click_trackers,impressionTrackers:i.impression_trackers,javascriptTrackers:i.javascript_trackers},i.main_img&&(t.native.image={url:i.main_img.url,height:i.main_img.height,width:i.main_img.width}),i.icon&&(t.native.icon={url:i.icon.url,height:i.icon.height,width:i.icon.width})}else{o(t,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{var n=r.rtb.trackers[0].impression_urls[0],d=u.createTrackPixelHtml(n);t.ad+=d}catch(e){u.logError("Error appending tracking pixel",e)}}return t})(e,t,n);s.mediaType=(a=t.ad_type)===m.VIDEO?m.VIDEO:a===m.NATIVE?m.NATIVE:m.BANNER,d.push(s)}})),d},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};function b(r){var n,d,a={};if(a.sizes=g(r.sizes),a.primary_size=a.sizes[0],a.ad_types=[],a.uuid=r.bidId,r.params.placementId?a.id=parseInt(r.params.placementId,10):a.code=r.params.invCode,a.allow_smaller_sizes=r.params.allowSmallerSizes||!1,a.use_pmt_rule=r.params.usePaymentRule||!1,a.prebid=!0,a.disable_psa=!0,r.params.reserve&&(a.reserve=r.params.reserve),r.params.position&&(a.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(a.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(a.private_sizes=g(r.params.privateSizes)),r.params.supplyType&&(a.supply_type=r.params.supplyType),r.params.pubClick&&(a.pubclick=r.params.pubClick),r.params.extInvCode&&(a.ext_inv_code=r.params.extInvCode),r.params.externalImpId&&(a.external_imp_id=r.params.externalImpId),u.isEmpty(r.params.keywords)||(a.keywords=u.transformBidderParamKeywords(r.params.keywords)),(r.mediaType===m.NATIVE||u.deepAccess(r,"mediaTypes."+m.NATIVE))&&(a.ad_types.push(m.NATIVE),r.nativeParams)){var e=(n=r.nativeParams,d={},Object.keys(n).forEach((function(e){var r=v[e]&&v[e].serverName||v[e]||e,a=v[e]&&v[e].requiredParams;d[r]=o({},a,n[e]);var t=v[e]&&v[e].minimumParams;if(a&&t){var s=Object.keys(n[e]),i=Object.keys(a);0===s.filter((function(e){return!(0,l.default)(i,e)})).length&&(d[r]=o({},d[r],t))}})),d);a[m.NATIVE]={layouts:[e]}}var t=u.deepAccess(r,"mediaTypes."+m.VIDEO),s=u.deepAccess(r,"mediaTypes.video.context");return(r.mediaType===m.VIDEO||t)&&a.ad_types.push(m.VIDEO),(r.mediaType===m.VIDEO||t&&"outstream"!==s)&&(a.require_asset_url=!0),r.params.video&&(a.video={},Object.keys(r.params.video).filter((function(e){return(0,l.default)(f,e)})).forEach((function(e){return a.video[e]=r.params.video[e]}))),(u.isEmpty(r.mediaType)&&u.isEmpty(r.mediaTypes)||r.mediaType===m.BANNER||r.mediaTypes&&r.mediaTypes[m.BANNER])&&a.ad_types.push(m.BANNER),a}function g(e){var r=[],a={};if(u.isArray(e)&&2===e.length&&!u.isArray(e[0]))a.width=parseInt(e[0],10),a.height=parseInt(e[1],10),r.push(a);else if("object"===(void 0===e?"undefined":i(e)))for(var t=0;t<e.length;t++){var s=e[t];(a={}).width=parseInt(s[0],10),a.height=parseInt(s[1],10),r.push(a)}return r}function h(e){return!!e.params.user}function _(e){return!!parseInt(e.params.member,10)}function I(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,r,a){e.renderer.handleVideoEvent({id:r,eventName:a})}.bind(null,e))}))}(0,t.registerBidder)(n)},129:function(e,r){}},[127]);
pbjsChunk([38],{394:function(e,r,t){t(395),e.exports=t(396)},395:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var u=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,r){var t=[],i=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(t.push(a.value),!r||t.length!==r);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return t})(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.masSizeOrdering=o,r.resetUserSync=function(){d=!1};var l=(function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}})(t(0)),i=t(1),f=t(2),y=t(3);var v="pbjs_lite_v1.15.0";var a="//fastlane.rubiconproject.com/a/api/fastlane.json",g={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",159:"320x250",195:"600x300",199:"640x200",213:"1030x590",214:"980x360",232:"580x400"};l._each(g,(function(e,r){return g[e]=r}));var s=r.spec={code:"rubicon",aliases:["rubiconLite"],supportedMediaTypes:[y.BANNER,y.VIDEO],isBidRequestValid:function(e){if("object"!==p(e.params))return!1;var r=e.params;return!!/^\d+$/.test(r.accountId)&&("outstream"===l.deepAccess(e,"mediaTypes."+y.VIDEO+".context")&&l.logWarn("Warning: outstream video for Rubicon Client Adapter is not supported yet"),s.hasVideoMediaType(e)&&void 0!==l.deepAccess(e,"mediaTypes."+y.BANNER)&&l.logWarn("Warning: instream video and banner requested for same ad unit, continuing with video instream request"),("video"!==e.mediaType||void 0!==l.deepAccess(e,"params.video.size_id"))&&(!(e.mediaTypes&&!s.hasVideoMediaType(e)&&void 0===e.mediaTypes.banner)&&!(h(e).length<1)))},buildRequests:function(e,o){var r=[],t=e.filter(s.hasVideoMediaType).map((function(e){e.startTime=(new Date).getTime();var r=e.params,t=h(e),i={page_url:_(e),resolution:m(),account_id:r.accountId,integration:v,"x_source.tid":e.transactionId,timeout:o.timeout-(Date.now()-o.auctionStart+500),stash_creatives:!0,ae_pass_through_parameters:r.video.aeParams,slots:[]},n={site_id:r.siteId,zone_id:r.zoneId,position:x(r.position),floor:.01<parseFloat(r.floor)?r.floor:.01,element_id:e.adUnitCode,name:e.adUnitCode,language:r.video.language,width:t[0],height:t[1],size_id:r.video.size_id};return r.inventory&&"object"===p(r.inventory)&&(n.inventory=r.inventory),r.keywords&&Array.isArray(r.keywords)&&(n.keywords=r.keywords),r.visitor&&"object"===p(r.visitor)&&(n.visitor=r.visitor),i.slots.push(n),o.gdprConsent&&("boolean"==typeof o.gdprConsent.gdprApplies&&(i.gdpr=Number(o.gdprConsent.gdprApplies)),i.gdpr_consent=o.gdprConsent.consentString),{method:"POST",url:"//fastlane-adv.rubiconproject.com/v1/auction/video",data:i,bidRequest:e}}));if(!0!==f.config.getConfig("rubicon.singleRequest"))r=t.concat(e.filter((function(e){return!s.hasVideoMediaType(e)})).map((function(e){var i=s.createSlotParams(e,o);return{method:"GET",url:a,data:s.getOrderedParams(i).reduce((function(e,r){var t=i[r];return l.isStr(t)&&""!==t||l.isNumber(t)?""+e+r+"="+encodeURIComponent(t)+"&":e}),"")+"slots=1&rand="+Math.random(),bidRequest:e}})));else{var n=e.filter((function(e){return!s.hasVideoMediaType(e)})).reduce((function(e,r){return(e[r.params.siteId]=e[r.params.siteId]||[]).push(r),e}),{});r=t.concat(Object.keys(n).map((function(e){var r=n[e];10<r.length&&(l.logWarn("single request mode has a limit of 10 bids: "+(r.length-10)+" bids were not sent"),r=r.slice(0,10));var i=s.combineSlotUrlParams(r.map((function(e){return s.createSlotParams(e,o)})));return{method:"GET",url:a,data:s.getOrderedParams(i).reduce((function(e,r){var t=i[r];return l.isStr(t)&&""!==t||l.isNumber(t)?""+e+r+"="+encodeURIComponent(t)+"&":e}),"")+"slots="+r.length+"&rand="+Math.random(),bidRequest:r}})))}return r},getOrderedParams:function(e){var r=/^tg_v/,t=/^tg_i/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(n){if(1===n.length)return n[0];var i=n.reduce((function(r,t,i){return Object.keys(t).forEach((function(e){r.hasOwnProperty(e)||(r[e]=new Array(n.length)),r[e].splice(i,1,t[e])})),r}),{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(i).forEach((function(e){var r=i[e].join(";"),t=r.match(o);i[e]=t?t[1]:r})),i},createSlotParams:function(e,r){e.startTime=(new Date).getTime();var t=e.params,i=h(e),n=t.latLong||[],o=u(n,2),a=o[0],s=o[1],d={account_id:t.accountId,site_id:t.siteId,zone_id:t.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,p_pos:x(t.position),rp_floor:.01<(t.floor=parseFloat(t.floor))?t.floor:.01,rp_secure:"https:"===location.protocol?"1":"0",tk_flint:v,"x_source.tid":e.transactionId,p_screen_res:m(),kw:Array.isArray(t.keywords)?t.keywords.join(","):"",tk_user_key:t.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:_(e)};r.gdprConsent&&("boolean"==typeof r.gdprConsent.gdprApplies&&(d.gdpr=Number(r.gdprConsent.gdprApplies)),d.gdpr_consent=r.gdprConsent.consentString),null!==t.visitor&&"object"===p(t.visitor)&&Object.keys(t.visitor).forEach((function(e){d["tg_v."+e]=t.visitor[e].toString()})),null!==t.inventory&&"object"===p(t.inventory)&&Object.keys(t.inventory).forEach((function(e){d["tg_i."+e]=t.inventory[e].toString()}));var c=(function(){var e=(r=window.DigiTrust&&(f.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"})),r&&r.success&&r.identity||null);var r;if(!e||e.privacy&&e.privacy.optout)return[];return{"dt.id":e.id,"dt.keyv":e.keyv,"dt.pref":0}})();return Object.keys(c).forEach((function(e){d[e]=c[e]})),d},hasVideoMediaType:function(e){return void 0!==l.deepAccess(e,"params.video.size_id")&&(e.mediaType===y.VIDEO||"instream"===l.deepAccess(e,"mediaTypes."+y.VIDEO+".context"))},interpretResponse:function(d,e){var c=e.bidRequest;if(!(d=d.body)||"object"!==(void 0===d?"undefined":p(d)))return[];var r=d.ads;return"object"===(void 0===c?"undefined":p(c))&&!Array.isArray(c)&&s.hasVideoMediaType(c)&&"object"===(void 0===r?"undefined":p(r))&&(r=r[c.adUnitCode]),!Array.isArray(r)||r.length<1?[]:r.reduce((function(e,r,t){if("ok"!==r.status)return e;var i,n=Array.isArray(c)?c[t]:c;if(n&&"object"===(void 0===n?"undefined":p(n))){var o={requestId:n.bidId,currency:"USD",creativeId:r.creative_id,cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:f.config.getConfig("rubicon.netRevenue")||!1,rubicon:{advertiserId:r.advertiser,networkId:r.network}};if(r.creative_type&&(o.mediaType=r.creative_type),r.creative_type===y.VIDEO)o.width=n.params.video.playerWidth,o.height=n.params.video.playerHeight,o.vastUrl=r.creative_depot_url,o.impression_id=r.impression_id,o.videoCacheKey=r.impression_id;else{o.ad=(i=r.script,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='"+r.impression_id+"'>\n<script type='text/javascript'>"+i+"<\/script>\n</div>\n</body>\n</html>");var a=g[r.size_id].split("x").map((function(e){return Number(e)})),s=u(a,2);o.width=s[0],o.height=s[1]}o.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((function(e,r){return e[r.key]=r.values[0],e}),{rpfl_elemid:n.adUnitCode}),e.push(o)}else l.logError("bidRequest undefined at index position:"+t,c,d);return e}),[]).sort((function(e,r){return(r.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,r,t){if(!d&&e.iframeEnabled){var i="";return t&&"string"==typeof t.consentString&&("boolean"==typeof t.gdprApplies?i+="?gdpr="+Number(t.gdprApplies)+"&gdpr_consent="+t.consentString:i+="?gdpr_consent="+t.consentString),d=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+i}}}};function m(){return[window.screen.width,window.screen.height].join("x")}function _(e){var r=f.config.getConfig("pageUrl");return e.params.referrer?r=e.params.referrer:r||(r=l.getTopWindowUrl()),e.params.secure?r.replace(/^http:/i,"https:"):r}function h(e){var r=e.params;if(s.hasVideoMediaType(e)){var t=[];return void 0!==l.deepAccess(e,"mediaTypes.video.playerSize")?t=e.mediaTypes.video.playerSize:r.video&&r.video.playerWidth&&r.video.playerHeight?t=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(t=e.sizes[0]),t}var i=[];return Array.isArray(r.sizes)?i=r.sizes:void 0!==l.deepAccess(e,"mediaTypes.banner.sizes")?i=n(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?i=n(e.sizes):l.logWarn("Warning: no sizes are setup or found"),o(i)}function n(e){return l.parseSizesInput(e).reduce((function(e,r){var t=parseInt(g[r],10);return t&&e.push(t),e}),[])}function x(e){return"atf"===e||"btf"===e?e:"unknown"}function o(e){var n=[15,2,9];return e.sort((function(e,r){var t=n.indexOf(e),i=n.indexOf(r);return-1<t||-1<i?-1===t?1:-1===i?-1:t-i:e-r}))}var d=!1;(0,i.registerBidder)(s)},396:function(e,r){}},[394]);
pbjs.processQueue();
